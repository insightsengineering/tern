<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="
Layout-creating function which can be used for creating column-wise summary tables.
This function sets the analysis methods as column labels and is a wrapper for
rtables::analyze_colvars(). It was designed principally for PK tables.">
<title>Summary numeric variables in columns — analyze_vars_in_cols • tern</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Summary numeric variables in columns — analyze_vars_in_cols">
<meta property="og:description" content="
Layout-creating function which can be used for creating column-wise summary tables.
This function sets the analysis methods as column labels and is a wrapper for
rtables::analyze_colvars(). It was designed principally for PK tables.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tern</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.3</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/tern.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/missing_values.html">Missing Values in Tern</a>
    <a class="dropdown-item" href="../articles/tables.html">Tabulation</a>
    <a class="dropdown-item" href="../articles/tern_formats.html">Formatting Functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>

<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      <li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.6">v0.9.6</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.5">v0.9.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.4">v0.9.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.3">v0.9.3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.2">v0.9.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.2-rc1">v0.9.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.1">v0.9.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.1-rc3">v0.9.1-rc3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.0">v0.9.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.5">v0.8.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.5-rc2">v0.8.5-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.5-rc1">v0.8.5-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.4">v0.8.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.4-rc1">v0.8.4-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.3-rc2">v0.8.3-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.3-rc1">v0.8.3-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.2">v0.8.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.2-rc2">v0.8.2-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.2-rc1">v0.8.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.1">v0.8.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.0">v0.8.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.7.10">v0.7.10</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.7.9">v0.7.9</a>
</div>
</li>
</ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Summary numeric variables in columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/tern/blob/HEAD/R/analyze_vars_in_cols.R" class="external-link"><code>R/analyze_vars_in_cols.R</code></a></small>
      <div class="d-none name"><code>analyze_vars_in_cols.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Layout-creating function which can be used for creating column-wise summary tables.
This function sets the analysis methods as column labels and is a wrapper for
<code><a href="https://rdrr.io/pkg/rtables/man/analyze_colvars.html" class="external-link">rtables::analyze_colvars()</a></code>. It was designed principally for PK tables.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">analyze_vars_in_cols</span><span class="op">(</span></span>
<span>  <span class="va">lyt</span>,</span>
<span>  <span class="va">vars</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"mean"</span>, <span class="st">"sd"</span>, <span class="st">"se"</span>, <span class="st">"cv"</span>, <span class="st">"geom_cv"</span><span class="op">)</span>,</span>
<span>  .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="st">"n"</span>, mean <span class="op">=</span> <span class="st">"Mean"</span>, sd <span class="op">=</span> <span class="st">"SD"</span>, se <span class="op">=</span> <span class="st">"SE"</span>, cv <span class="op">=</span> <span class="st">"CV (%)"</span>, geom_cv <span class="op">=</span></span>
<span>    <span class="st">"CV % Geometric Mean"</span><span class="op">)</span>,</span>
<span>  row_labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  do_summarize_row_groups <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  split_col_vars <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .indent_mods <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nested <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  na_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .formats <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h2>
    <dl>
<dt>lyt</dt>
<dd><p>(<code>layout</code>)<br> input layout where analyses will be added to.</p></dd>


<dt>vars</dt>
<dd><p>(<code>character</code>)<br> variable names for the primary analysis variable to be iterated over.</p></dd>


<dt>...</dt>
<dd><p>additional arguments for the lower level functions.</p></dd>


<dt>.stats</dt>
<dd><p>(<code>character</code>)<br> statistics to select for the table.</p></dd>


<dt>.labels</dt>
<dd><p>(named <code>character</code>)<br> labels for the statistics (without indent).</p></dd>


<dt>row_labels</dt>
<dd><p>(<code>character</code>)<br> as this function works in columns space, usual <code>.labels</code>
character vector applies on the column space. You can change the row labels by defining this
parameter to a named character vector with names corresponding to the split values. It defaults
to <code>NULL</code> and if it contains only one <code>string</code>, it will duplicate that as a row label.</p></dd>


<dt>do_summarize_row_groups</dt>
<dd><p>(<code>flag</code>)<br> defaults to <code>FALSE</code> and applies the analysis to the current
label rows. This is a wrapper of <code><a href="https://rdrr.io/pkg/rtables/man/summarize_row_groups.html" class="external-link">rtables::summarize_row_groups()</a></code> and it can accept <code>labelstr</code>
to define row labels. This behavior is not supported as we never need to overload row labels.</p></dd>


<dt>split_col_vars</dt>
<dd><p>(<code>flag</code>)<br> defaults to <code>TRUE</code> and puts the analysis results onto the columns.
This option allows you to add multiple instances of this functions, also in a nested fashion,
without adding more splits. This split must happen only one time on a single layout.</p></dd>


<dt>.indent_mods</dt>
<dd><p>(named <code>integer</code>)<br> indent modifiers for the labels. Defaults to 0, which corresponds to the
unmodified default behavior. Can be negative.</p></dd>


<dt>nested</dt>
<dd><p>(<code>flag</code>)<br> whether this layout instruction be applied within the existing layout structure <em>if
possible</em> (<code>TRUE</code>, the default) or as a new top-level element (<code>FALSE</code>). Ignored if it would nest a split
underneath analyses, which is not allowed.</p></dd>


<dt>na_level</dt>
<dd><p>(<code>string</code>)<br> string used to replace all <code>NA</code> or empty values in the output.</p></dd>


<dt>.formats</dt>
<dd><p>(named <code>character</code> or <code>list</code>)<br> formats for the statistics.</p></dd>

</dl>
</div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a>
</h2>
    

<p>A layout object suitable for passing to further layouting functions, or to <code><a href="https://rdrr.io/pkg/rtables/man/build_table.html" class="external-link">rtables::build_table()</a></code>.
Adding this function to an <code>rtable</code> layout will summarize the given variables, arrange the output
in columns, and add it to the table layout.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a>
</h2>
    <p>This is an experimental implementation of <code><a href="https://rdrr.io/pkg/rtables/man/summarize_row_groups.html" class="external-link">rtables::summarize_row_groups()</a></code> and
<code><a href="https://rdrr.io/pkg/rtables/man/analyze_colvars.html" class="external-link">rtables::analyze_colvars()</a></code> that may be subjected to changes as <code>rtables</code> extends its
support to more complex analysis pipelines on the column space. For the same reasons,
we encourage to read the examples carefully and file issues for cases that differ from
them.</p>
<p>Here <code>labelstr</code> behaves differently than usual. If it is not defined (default as <code>NULL</code>),
row labels are assigned automatically to the split values in case of <code><a href="https://rdrr.io/pkg/rtables/man/analyze_colvars.html" class="external-link">rtables::analyze_colvars</a></code>
(<code>do_summarize_row_groups = FALSE</code>, the default), and to the group label for
<code>do_summarize_row_groups = TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
    <div class="dont-index"><p><code><a href="summarize_variables.html">summarize_vars()</a></code>, <code><a href="https://rdrr.io/pkg/rtables/man/analyze_colvars.html" class="external-link">rtables::analyze_colvars()</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Data preparation</span></span></span>
<span class="r-in"><span><span class="va">adpp</span> <span class="op">&lt;-</span> <span class="va">tern_ex_adpp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="h_pkparam_sort.html">h_pkparam_sort</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span>var <span class="op">=</span> <span class="st">"STRATA1"</span>, label_pos <span class="op">=</span> <span class="st">"topleft"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span></span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"SEX"</span>,</span></span>
<span class="r-in"><span>    label_pos <span class="op">=</span> <span class="st">"topleft"</span>,</span></span>
<span class="r-in"><span>    child_label <span class="op">=</span> <span class="st">"hidden"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># Removes duplicated labels</span></span></span>
<span class="r-in"><span>  <span class="fu">analyze_vars_in_cols</span><span class="op">(</span>vars <span class="op">=</span> <span class="st">"AGE"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">build_table</span><span class="op">(</span>lyt <span class="op">=</span> <span class="va">lyt</span>, df <span class="op">=</span> <span class="va">adpp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> STRATA1                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SEX      n    Mean    SD    SE    CV (%)   CV % Geometric Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F       81    38.8   5.4    0.6    13.8           14.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M       81    38.9   5.9    0.7    15.1           14.9        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F       90    36.0   6.4    0.7    17.7           17.9        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M       81    36.4   6.5    0.7    17.9           17.8        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C                                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F       117   34.1   6.2    0.6    18.2           18.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M       72    33.2   11.5   1.4    34.6           31.6        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># By selecting just some statistics and ad-hoc labels</span></span></span>
<span class="r-in"><span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span>var <span class="op">=</span> <span class="st">"ARM"</span>, label_pos <span class="op">=</span> <span class="st">"topleft"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span></span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"SEX"</span>,</span></span>
<span class="r-in"><span>    label_pos <span class="op">=</span> <span class="st">"topleft"</span>,</span></span>
<span class="r-in"><span>    child_labels <span class="op">=</span> <span class="st">"hidden"</span>,</span></span>
<span class="r-in"><span>    split_fun <span class="op">=</span> <span class="va">drop_split_levels</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">analyze_vars_in_cols</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AGE"</span>,</span></span>
<span class="r-in"><span>    .stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"cv"</span>, <span class="st">"geom_mean"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      n <span class="op">=</span> <span class="st">"aN"</span>,</span></span>
<span class="r-in"><span>      cv <span class="op">=</span> <span class="st">"aCV"</span>,</span></span>
<span class="r-in"><span>      geom_mean <span class="op">=</span> <span class="st">"aGeomMean"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">build_table</span><span class="op">(</span>lyt <span class="op">=</span> <span class="va">lyt</span>, df <span class="op">=</span> <span class="va">adpp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ARM                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SEX            aN    aCV    aGeomMean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A: Drug X                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> B: Placebo                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> C: Combination                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F              288   17.6     35.5   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M              234   23.4     35.3   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Changing row labels</span></span></span>
<span class="r-in"><span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">analyze_vars_in_cols</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AGE"</span>,</span></span>
<span class="r-in"><span>    row_labels <span class="op">=</span> <span class="st">"some custom label"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">build_table</span><span class="op">(</span><span class="va">lyt</span>, df <span class="op">=</span> <span class="va">adpp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      n    Mean   SD    SE    CV (%)   CV % Geometric Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> —————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> some custom label   522   36.1   7.4   0.3    20.4           20.6        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Pharmacokinetic parameters</span></span></span>
<span class="r-in"><span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span></span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"TLG_DISPLAY"</span>,</span></span>
<span class="r-in"><span>    split_label <span class="op">=</span> <span class="st">"PK Parameter"</span>,</span></span>
<span class="r-in"><span>    label_pos <span class="op">=</span> <span class="st">"topleft"</span>,</span></span>
<span class="r-in"><span>    child_label <span class="op">=</span> <span class="st">"hidden"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">analyze_vars_in_cols</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AVAL"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">build_table</span><span class="op">(</span><span class="va">lyt</span>, df <span class="op">=</span> <span class="va">adpp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PK Parameter   n    Mean     SD    SE    CV (%)   CV % Geometric Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> —————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cmax           58   29.7    5.6    0.7    19.0           19.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUCinf obs     58   207.5   34.9   4.6    16.8           17.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CL obs         58    5.1    1.0    0.1    20.6           22.7        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ae             58    1.5    0.3    0.0    21.3           24.1        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fe             58   15.7    3.6    0.5    22.7           24.0        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CLR            58    0.0    0.0    0.0    19.9           22.2        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rmax           58    9.6    2.0    0.3    21.1           21.6        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tonset         58    3.0    0.7    0.1    22.4           23.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RENALCLD       58    0.0    0.0    0.0    19.0           19.4        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multiple calls (summarize label and analyze underneath)</span></span></span>
<span class="r-in"><span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span></span></span>
<span class="r-in"><span>    var <span class="op">=</span> <span class="st">"TLG_DISPLAY"</span>,</span></span>
<span class="r-in"><span>    split_label <span class="op">=</span> <span class="st">"PK Parameter"</span>,</span></span>
<span class="r-in"><span>    label_pos <span class="op">=</span> <span class="st">"topleft"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">analyze_vars_in_cols</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AVAL"</span>,</span></span>
<span class="r-in"><span>    do_summarize_row_groups <span class="op">=</span> <span class="cn">TRUE</span> <span class="co"># does a summarize level</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_rows_by</span><span class="op">(</span><span class="st">"SEX"</span>,</span></span>
<span class="r-in"><span>    child_label <span class="op">=</span> <span class="st">"hidden"</span>,</span></span>
<span class="r-in"><span>    label_pos <span class="op">=</span> <span class="st">"topleft"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">analyze_vars_in_cols</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AVAL"</span>,</span></span>
<span class="r-in"><span>    split_col_vars <span class="op">=</span> <span class="cn">FALSE</span> <span class="co"># avoids re-splitting the columns</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">build_table</span><span class="op">(</span><span class="va">lyt</span>, df <span class="op">=</span> <span class="va">adpp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PK Parameter                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   SEX          n    Mean     SD    SE    CV (%)   CV % Geometric Mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> —————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cmax           58   29.7    5.6    0.7    19.0           19.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32   30.1    6.1    1.1    20.4           21.0        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26   29.2    5.0    1.0    17.2           17.2        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AUCinf obs     58   207.5   34.9   4.6    16.8           17.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32   209.5   43.3   7.7    20.7           21.6        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26   205.0   20.9   4.1    10.2           10.4        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CL obs         58    5.1    1.0    0.1    20.6           22.7        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32    5.1    1.1    0.2    20.8           23.2        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26    5.1    1.1    0.2    20.7           22.5        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Ae             58    1.5    0.3    0.0    21.3           24.1        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32    1.5    0.3    0.1    19.3           20.8        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26    1.5    0.4    0.1    23.9           27.9        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Fe             58   15.7    3.6    0.5    22.7           24.0        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32   16.3    3.4    0.6    20.9           22.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26   15.0    3.7    0.7    24.7           25.6        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CLR            58    0.0    0.0    0.0    19.9           22.2        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32    0.0    0.0    0.0    20.5           24.8        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26    0.0    0.0    0.0    19.5           18.9        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rmax           58    9.6    2.0    0.3    21.1           21.6        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32    9.6    2.2    0.4    22.4           23.5        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26    9.6    1.9    0.4    19.7           19.5        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tonset         58    3.0    0.7    0.1    22.4           23.3        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32    3.0    0.7    0.1    24.7           25.9        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26    3.0    0.6    0.1    19.8           20.0        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RENALCLD       58    0.0    0.0    0.0    19.0           19.4        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   F            32    0.0    0.0    0.0    19.6           20.4        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   M            26    0.0    0.0    0.0    18.0           17.6        </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="nest">
  <p>tern is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>

  

  

  </body>
</html>
