<!DOCTYPE html>
<!-- Generated by pkgdown + https://github.com/insightsengineering/r-pkgdown-multiversion -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Survival time point analysis — survival_timepoint • tern</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Survival time point analysis — survival_timepoint">
<meta name="description" content='
The analyze function surv_timepoint() creates a layout element to analyze patient survival rates and difference
of survival rates between groups at a given time point. The primary analysis variable vars is the time variable.
Other required inputs are time_point, the numeric time point of interest, and is_event, a variable that
indicates whether or not an event has occurred. The method argument is used to specify whether you want to analyze
survival estimations ("surv"), difference in survival with the control ("surv_diff"), or both of these
("both").'>
<meta property="og:description" content='
The analyze function surv_timepoint() creates a layout element to analyze patient survival rates and difference
of survival rates between groups at a given time point. The primary analysis variable vars is the time variable.
Other required inputs are time_point, the numeric time point of interest, and is_event, a variable that
indicates whether or not an event has occurred. The method argument is used to specify whether you want to analyze
survival estimations ("surv"), difference in survival with the control ("surv_diff"), or both of these
("both").'>
<meta property="og:image" content="https://insightsengineering.github.io/tern/logo.png">
<link rel="stylesheet" href="../consent.css">
<script src="../consent.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tern</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.7</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/tern.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/missing_values.html">Missing Values in Tern</a></li>
    <li><a class="dropdown-item" href="../articles/tables.html">Tabulation</a></li>
    <li><a class="dropdown-item" href="../articles/tern_formats.html">Formatting Functions</a></li>
    <li><a class="dropdown-item" href="../articles/tern_functions_guide.html">Understanding `tern` functions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports">
<li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul>
</li>
      <div><li class="nav-item dropdown">
    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-versions">Versions</a>
    <div class="dropdown-menu" aria-labelledby="dropdown-versions">
    <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/release-candidate">release-candidate</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.8">v0.9.8</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.8-rc1">v0.9.8-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.7">v0.9.7</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.6">v0.9.6</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.5">v0.9.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.4">v0.9.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.3">v0.9.3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.2">v0.9.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.2-rc1">v0.9.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.1">v0.9.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.1-rc3">v0.9.1-rc3</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.9.0">v0.9.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.5">v0.8.5</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.5-rc2">v0.8.5-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.5-rc1">v0.8.5-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.4">v0.8.4</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.4-rc1">v0.8.4-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.3-rc2">v0.8.3-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.3-rc1">v0.8.3-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.2">v0.8.2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.2-rc2">v0.8.2-rc2</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.2-rc1">v0.8.2-rc1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.1">v0.8.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.0">v0.8.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.7.10">v0.7.10</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.7.9">v0.7.9</a>
</div>
</li></div>
</ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/tern" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Survival time point analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/tern/blob/v0.9.7/R/survival_timepoint.R" class="external-link"><code>R/survival_timepoint.R</code></a></small>
      <div class="d-none name"><code>survival_timepoint.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>The analyze function <code>surv_timepoint()</code> creates a layout element to analyze patient survival rates and difference
of survival rates between groups at a given time point. The primary analysis variable <code>vars</code> is the time variable.
Other required inputs are <code>time_point</code>, the numeric time point of interest, and <code>is_event</code>, a variable that
indicates whether or not an event has occurred. The <code>method</code> argument is used to specify whether you want to analyze
survival estimations (<code>"surv"</code>), difference in survival with the control (<code>"surv_diff"</code>), or both of these
(<code>"both"</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">surv_timepoint</span><span class="op">(</span></span>
<span>  <span class="va">lyt</span>,</span>
<span>  <span class="va">vars</span>,</span>
<span>  <span class="va">time_point</span>,</span>
<span>  <span class="va">is_event</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_surv_timepoint.html">control_surv_timepoint</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"surv"</span>, <span class="st">"surv_diff"</span>, <span class="st">"both"</span><span class="op">)</span>,</span>
<span>  na_str <span class="op">=</span> <span class="fu"><a href="default_na_str.html">default_na_str</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  nested <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  table_names_suffix <span class="op">=</span> <span class="st">""</span>,</span>
<span>  var_labels <span class="op">=</span> <span class="st">"Time"</span>,</span>
<span>  show_labels <span class="op">=</span> <span class="st">"visible"</span>,</span>
<span>  .stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pt_at_risk"</span>, <span class="st">"event_free_rate"</span>, <span class="st">"rate_ci"</span>, <span class="st">"rate_diff"</span>, <span class="st">"rate_diff_ci"</span>,</span>
<span>    <span class="st">"ztest_pval"</span><span class="op">)</span>,</span>
<span>  .formats <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .indent_mods <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="va">method</span> <span class="op">==</span> <span class="st">"both"</span><span class="op">)</span> <span class="op">{</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>rate_diff <span class="op">=</span> <span class="fl">1L</span>, rate_diff_ci <span class="op">=</span> <span class="fl">2L</span>,</span>
<span>    ztest_pval <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></span>
<span> <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>     <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>rate_diff_ci <span class="op">=</span> <span class="fl">1L</span>, ztest_pval <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span></span>
<span> <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s_surv_timepoint</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">.var</span>,</span>
<span>  <span class="va">time_point</span>,</span>
<span>  <span class="va">is_event</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_surv_timepoint.html">control_surv_timepoint</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">a_surv_timepoint</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">.var</span>,</span>
<span>  <span class="va">time_point</span>,</span>
<span>  <span class="va">is_event</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_surv_timepoint.html">control_surv_timepoint</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s_surv_timepoint_diff</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">.var</span>,</span>
<span>  <span class="va">.ref_group</span>,</span>
<span>  <span class="va">.in_ref_col</span>,</span>
<span>  <span class="va">time_point</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_surv_timepoint.html">control_surv_timepoint</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">a_surv_timepoint_diff</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">.var</span>,</span>
<span>  <span class="va">.ref_group</span>,</span>
<span>  <span class="va">.in_ref_col</span>,</span>
<span>  <span class="va">time_point</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_surv_timepoint.html">control_surv_timepoint</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a>
</h2>


<dl>
<dt id="arg-lyt">lyt<a class="anchor" aria-label="anchor" href="#arg-lyt"></a>
</dt>
<dd><p>(<code>PreDataTableLayouts</code>)<br> layout that analyses will be added to.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a>
</dt>
<dd><p>(<code>character</code>)<br> variable names for the primary analysis variable to be iterated over.</p></dd>


<dt id="arg-time-point">time_point<a class="anchor" aria-label="anchor" href="#arg-time-point"></a>
</dt>
<dd><p>(<code>numeric(1)</code>)<br> survival time point of interest.</p></dd>


<dt id="arg-is-event">is_event<a class="anchor" aria-label="anchor" href="#arg-is-event"></a>
</dt>
<dd><p>(<code>flag</code>)<br><code>TRUE</code> if event, <code>FALSE</code> if time to event is censored.</p></dd>


<dt id="arg-control">control<a class="anchor" aria-label="anchor" href="#arg-control"></a>
</dt>
<dd>
<p>(<code>list</code>)<br> parameters for comparison details, specified by using the helper function
<code><a href="control_surv_timepoint.html">control_surv_timepoint()</a></code>. Some possible parameter options are:</p>
<ul>
<li><p><code>conf_level</code> (<code>proportion</code>)<br> confidence level of the interval for survival rate.</p></li>
<li><p><code>conf_type</code> (<code>string</code>)<br> confidence interval type. Options are "plain" (default), "log", "log-log",
see more in <code><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survival::survfit()</a></code>. Note option "none" is no longer supported.</p></li>
</ul>
</dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a>
</dt>
<dd><p>(<code>string</code>)<br><code>"surv"</code> (survival estimations), <code>"surv_diff"</code> (difference in survival with the
control), or <code>"both"</code>.</p></dd>


<dt id="arg-na-str">na_str<a class="anchor" aria-label="anchor" href="#arg-na-str"></a>
</dt>
<dd><p>(<code>string</code>)<br> string used to replace all <code>NA</code> or empty values in the output.</p></dd>


<dt id="arg-nested">nested<a class="anchor" aria-label="anchor" href="#arg-nested"></a>
</dt>
<dd><p>(<code>flag</code>)<br> whether this layout instruction should be applied within the existing layout structure _if
possible (<code>TRUE</code>, the default) or as a new top-level element (<code>FALSE</code>). Ignored if it would nest a split.
underneath analyses, which is not allowed.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a>
</dt>
<dd><p>additional arguments for the lower level functions.</p></dd>


<dt id="arg-table-names-suffix">table_names_suffix<a class="anchor" aria-label="anchor" href="#arg-table-names-suffix"></a>
</dt>
<dd><p>(<code>string</code>)<br> optional suffix for the <code>table_names</code> used for the <code>rtables</code> to
avoid warnings from duplicate table names.</p></dd>


<dt id="arg-var-labels">var_labels<a class="anchor" aria-label="anchor" href="#arg-var-labels"></a>
</dt>
<dd><p>(<code>character</code>)<br> variable labels.</p></dd>


<dt id="arg-show-labels">show_labels<a class="anchor" aria-label="anchor" href="#arg-show-labels"></a>
</dt>
<dd><p>(<code>string</code>)<br> label visibility: one of "default", "visible" and "hidden".</p></dd>


<dt id="arg--stats">.stats<a class="anchor" aria-label="anchor" href="#arg--stats"></a>
</dt>
<dd>
<p>(<code>character</code>)<br> statistics to select for the table.</p>
<p>Options are: <code>'pt_at_risk', 'event_free_rate', 'rate_se', 'rate_ci', 'rate_diff', 'rate_diff_ci', 'ztest_pval', 'event_free_rate_3d'</code></p>
</dd>


<dt id="arg--formats">.formats<a class="anchor" aria-label="anchor" href="#arg--formats"></a>
</dt>
<dd><p>(named <code>character</code> or <code>list</code>)<br> formats for the statistics. See Details in <code>analyze_vars</code> for more
information on the <code>"auto"</code> setting.</p></dd>


<dt id="arg--labels">.labels<a class="anchor" aria-label="anchor" href="#arg--labels"></a>
</dt>
<dd><p>(named <code>character</code>)<br> labels for the statistics (without indent).</p></dd>


<dt id="arg--indent-mods">.indent_mods<a class="anchor" aria-label="anchor" href="#arg--indent-mods"></a>
</dt>
<dd><p>(named <code>integer</code>)<br> indent modifiers for the labels. Each element of the vector
should be a name-value pair with name corresponding to a statistic specified in <code>.stats</code> and value the indentation
for that statistic's row label.</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a>
</dt>
<dd><p>(<code>data.frame</code>)<br> data set containing all analysis variables.</p></dd>


<dt id="arg--var">.var<a class="anchor" aria-label="anchor" href="#arg--var"></a>
</dt>
<dd><p>(<code>string</code>)<br> single variable name that is passed by <code>rtables</code> when requested
by a statistics function.</p></dd>


<dt id="arg--ref-group">.ref_group<a class="anchor" aria-label="anchor" href="#arg--ref-group"></a>
</dt>
<dd><p>(<code>data.frame</code> or <code>vector</code>)<br> the data corresponding to the reference group.</p></dd>


<dt id="arg--in-ref-col">.in_ref_col<a class="anchor" aria-label="anchor" href="#arg--in-ref-col"></a>
</dt>
<dd><p>(<code>flag</code>)<br><code>TRUE</code> when working with the reference level, <code>FALSE</code> otherwise.</p></dd>

</dl>
</div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a>
</h2>

<ul>
<li><p><code>surv_timepoint()</code> returns a layout object suitable for passing to further layouting functions,
or to <code><a href="https://insightsengineering.github.io/rtables/latest-release/reference/build_table.html" class="external-link">rtables::build_table()</a></code>. Adding this function to an <code>rtable</code> layout will add formatted rows containing
the statistics from <code>s_surv_timepoint()</code> and/or <code>s_surv_timepoint_diff()</code> to the table layout depending on
the value of <code>method</code>.</p></li>
</ul>
<ul>
<li>
<p><code>s_surv_timepoint()</code> returns the statistics:</p>
<ul>
<li><p><code>pt_at_risk</code>: Patients remaining at risk.</p></li>
<li><p><code>event_free_rate</code>: Event-free rate (%).</p></li>
<li><p><code>rate_se</code>: Standard error of event free rate.</p></li>
<li><p><code>rate_ci</code>: Confidence interval for event free rate.</p></li>
<li><p><code>event_free_rate_3d</code>: Event-free rate (%) with Confidence interval.</p></li>
</ul>
</li>
</ul>
<ul>
<li><p><code>a_surv_timepoint()</code> returns the corresponding list with formatted <code><a href="https://insightsengineering.github.io/rtables/latest-release/reference/CellValue.html" class="external-link">rtables::CellValue()</a></code>.</p></li>
</ul>
<ul>
<li>
<p><code>s_surv_timepoint_diff()</code> returns the statistics:</p>
<ul>
<li><p><code>rate_diff</code>: Event-free rate difference between two groups.</p></li>
<li><p><code>rate_diff_ci</code>: Confidence interval for the difference.</p></li>
<li><p><code>rate_diff_ci_3d</code>: Event-free rate difference and confidence interval between two groups.</p></li>
<li><p><code>ztest_pval</code>: p-value to test the difference is 0.</p></li>
</ul>
</li>
</ul>
<ul>
<li><p><code>a_surv_timepoint_diff()</code> returns the corresponding list with formatted <code><a href="https://insightsengineering.github.io/rtables/latest-release/reference/CellValue.html" class="external-link">rtables::CellValue()</a></code>.</p></li>
</ul>
</div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>

<ul>
<li><p><code>surv_timepoint()</code>: Layout-creating function which can take statistics function arguments
and additional format arguments. This function is a wrapper for <code><a href="https://insightsengineering.github.io/rtables/latest-release/reference/analyze.html" class="external-link">rtables::analyze()</a></code>.</p></li>
<li><p><code>s_surv_timepoint()</code>: Statistics function which analyzes survival rate.</p></li>
<li><p><code>a_surv_timepoint()</code>: Formatted analysis function which is used as <code>afun</code> in <code>surv_timepoint()</code>
when <code>method = "surv"</code>.</p></li>
<li><p><code>s_surv_timepoint_diff()</code>: Statistics function which analyzes difference between two survival rates.</p></li>
<li><p><code>a_surv_timepoint_diff()</code>: Formatted analysis function which is used as <code>afun</code> in <code>surv_timepoint()</code>
when <code>method = "surv_diff"</code>.</p></li>
</ul>
</div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a>
</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">adtte_f</span> <span class="op">&lt;-</span> <span class="va">tern_ex_adtte</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">PARAMCD</span> <span class="op">==</span> <span class="st">"OS"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    AVAL <span class="op">=</span> <span class="fu"><a href="day2month.html">day2month</a></span><span class="op">(</span><span class="va">AVAL</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    is_event <span class="op">=</span> <span class="va">CNSR</span> <span class="op">==</span> <span class="fl">0</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Survival at given time points.</span></span></span>
<span class="r-in"><span><span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_cols_by</span><span class="op">(</span>var <span class="op">=</span> <span class="st">"ARMCD"</span>, ref_group <span class="op">=</span> <span class="st">"ARM A"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_colcounts</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">surv_timepoint</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AVAL"</span>,</span></span>
<span class="r-in"><span>    var_labels <span class="op">=</span> <span class="st">"Months"</span>,</span></span>
<span class="r-in"><span>    is_event <span class="op">=</span> <span class="st">"is_event"</span>,</span></span>
<span class="r-in"><span>    time_point <span class="op">=</span> <span class="fl">7</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span>df <span class="op">=</span> <span class="va">adtte_f</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    ARM A            ARM B            ARM C     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                    (N=69)           (N=73)           (N=58)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 Months                                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Patients remaining at risk         54               57               42      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Event Free Rate (%)              84.89            79.43            75.50     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   95% CI                       (76.24, 93.53)   (70.15, 88.71)   (64.33, 86.67)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Difference in survival at given time points.</span></span></span>
<span class="r-in"><span><span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_cols_by</span><span class="op">(</span>var <span class="op">=</span> <span class="st">"ARMCD"</span>, ref_group <span class="op">=</span> <span class="st">"ARM A"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_colcounts</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">surv_timepoint</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AVAL"</span>,</span></span>
<span class="r-in"><span>    var_labels <span class="op">=</span> <span class="st">"Months"</span>,</span></span>
<span class="r-in"><span>    is_event <span class="op">=</span> <span class="st">"is_event"</span>,</span></span>
<span class="r-in"><span>    time_point <span class="op">=</span> <span class="fl">9</span>,</span></span>
<span class="r-in"><span>    method <span class="op">=</span> <span class="st">"surv_diff"</span>,</span></span>
<span class="r-in"><span>    .indent_mods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rate_diff"</span> <span class="op">=</span> <span class="fl">0L</span>, <span class="st">"rate_diff_ci"</span> <span class="op">=</span> <span class="fl">2L</span>, <span class="st">"ztest_pval"</span> <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span>df <span class="op">=</span> <span class="va">adtte_f</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   ARM A        ARM B            ARM C     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                   (N=69)       (N=73)           (N=58)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ——————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 Months                                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Difference in Event Free Rate                -9.64            -13.03    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       95% CI                               (-22.80, 3.52)   (-27.59, 1.53)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       p-value (Z-test)                         0.1511           0.0794    </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Survival and difference in survival at given time points.</span></span></span>
<span class="r-in"><span><span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_cols_by</span><span class="op">(</span>var <span class="op">=</span> <span class="st">"ARMCD"</span>, ref_group <span class="op">=</span> <span class="st">"ARM A"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_colcounts</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">surv_timepoint</span><span class="op">(</span></span></span>
<span class="r-in"><span>    vars <span class="op">=</span> <span class="st">"AVAL"</span>,</span></span>
<span class="r-in"><span>    var_labels <span class="op">=</span> <span class="st">"Months"</span>,</span></span>
<span class="r-in"><span>    is_event <span class="op">=</span> <span class="st">"is_event"</span>,</span></span>
<span class="r-in"><span>    time_point <span class="op">=</span> <span class="fl">9</span>,</span></span>
<span class="r-in"><span>    method <span class="op">=</span> <span class="st">"both"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span>df <span class="op">=</span> <span class="va">adtte_f</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       ARM A            ARM B            ARM C     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       (N=69)           (N=73)           (N=58)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ——————————————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 Months                                                                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Patients remaining at risk            53               53               39      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Event Free Rate (%)                 84.89            75.25            71.86     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   95% CI                          (76.24, 93.53)   (65.32, 85.17)   (60.14, 83.57)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Difference in Event Free Rate                        -9.64            -13.03    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     95% CI                                         (-22.80, 3.52)   (-27.59, 1.53)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     p-value (Z-test)                                   0.1511           0.0794    </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="nest">
  <p>tern is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer>
</div>





  </body>
</html>
