<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • tern</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tern</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.9000</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tern.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/missing_values.html">Missing Values in Tern</a>
    <a class="dropdown-item" href="../articles/tables.html">Tabulation</a>
    <a class="dropdown-item" href="../articles/tern_formats.html">Formatting Functions</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/insightsengineering/tern/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0.9000" id="tern-0909000">tern 0.9.0.9000<a class="anchor" aria-label="anchor" href="#tern-0909000"></a></h2>
<div class="section level4">
<h4 id="enhancements-0-9-0-9000">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-9-0-9000"></a></h4>
<ul><li>Refactored <code>tabulate_rsp_subgroups</code> to pass sanitation checks by preventing creation of degenerate subtables.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="tern-090">tern 0.9.0<a class="anchor" aria-label="anchor" href="#tern-090"></a></h2><p class="text-muted">CRAN release: 2023-09-01</p>
<div class="section level4">
<h4 id="new-features-0-9-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h4>
<ul><li>Added <code>stat_propdiff_ci</code> function to calculate proportion/risk difference and CI.</li>
<li>Added risk difference column functionality via the <code>riskdiff</code> argument to functions <code>count_occurrences</code>, <code>count_occurrences_by_grade</code>, <code>count_patients_with_event</code>, <code>count_patients_with_flags</code>, <code>analyze_num_patients</code>, and <code>summarize_num_patients</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-9-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-9-0"></a></h4>
<ul><li>Refactored the function <code>a_summary</code> to no longer use the helper function <code>create_afun_summary</code>.</li>
<li>Refactored functions <code>summarize_vars</code> and <code>compare_vars</code> to use the refactored <code>a_summary</code> function.</li>
<li>Created new internal helper functions <code>ungroup_stats</code> to ungroup statistics calculated for factor variables, and <code>a_summary_internal</code> to perform calculations for <code>a_summary</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-9-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h4>
<ul><li>Fixed bug in <code>s_count_occurrences_by_grade</code> so that “missing” grade always appears as the final level.</li>
<li>Fixed bug in <code>analyze_vars_in_cols</code> when categorical data was used.</li>
<li>Fixed bug in <code>s_count_occurrences_by_grade</code> so that levels are not relabeled when reordering to account for “missing” grades.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-9-0">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-9-0"></a></h4>
<ul><li>Fixed swapped descriptions for the <code>.N_row</code> and <code>.N_col</code> parameters.</li>
<li>Removed internal calls to <code>df_explicit_na</code>. Changes in <code>NA</code> values should happen externally to <code>tern</code> functions, depending on users’ needs.</li>
<li>Reinstated correct soft deprecation for <code>create_afun_summary</code> and <code>create_afun_compare</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.5" id="tern-085">tern 0.8.5<a class="anchor" aria-label="anchor" href="#tern-085"></a></h2>
<div class="section level4">
<h4 id="enhancements-0-8-5">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-8-5"></a></h4>
<ul><li>Added <code>ylim</code> argument to <code>g_km</code> to allow the user to set custom limits for the y-axis.</li>
<li>Added assertion to <code>g_km</code> which checks whether there is one arm present in the data when <code>annot_coxph</code> is true.</li>
<li>Added <code>flag_labels</code> argument to <code>s_count_patients_with_flags</code> to enable more label handling options in <code>count_patients_by_flags</code>.</li>
<li>Added the <code>nested</code> argument to <code>analyze</code> wrapper functions <code>count_abnormal</code>, <code>count_abnormal_by_baseline</code>, <code>count_abnormal_by_marked</code>, <code>count_abnormal_by_worst_grade</code>, <code>count_abnormal_lab_worsen_by_baseline</code>, <code>count_cumulative</code>, <code>count_missed_doses</code>, <code>count_occurrences</code>, <code>count_occurrences_by_grade</code>, <code>count_patients_with_event</code>, <code>count_patients_with_flags</code>, <code>count_values</code>, <code>estimate_multinomial_response</code>, <code>estimate_proportion</code>, <code>estimate_incidence_rate</code>, <code>estimate_odds_ratio</code>, <code>estimate_proportion_diff</code>, <code>test_proportion_diff</code>, <code>summarize_ancova</code>, <code>summarize_change</code>, <code>summarize_glm_count</code>, <code>analyze_num_patients</code>, <code>coxph_pairwise</code>, <code>surv_time</code>, and <code>surv_timepoint</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="miscellaneous-0-8-5">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-8-5"></a></h3>
<ul><li>Started deprecation cycle for <code>summarize_vars</code> and <code>control_summarize_vars</code>. Renamed into <code>analyze_vars</code> and <code>control_analyze_vars</code> to reflect underlying <code>rtables</code> machinery while keeping backward compatibility with aliases.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.4" id="tern-084">tern 0.8.4<a class="anchor" aria-label="anchor" href="#tern-084"></a></h2><p class="text-muted">CRAN release: 2023-06-27</p>
<div class="section level4">
<h4 id="enhancements-0-8-4">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-8-4"></a></h4>
<ul><li>Added method for <code>character</code> class to <code>h_coxreg_inter_effect</code> enabling <code>character</code> covariates in <code>summarize_coxreg</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-8-4">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-8-4"></a></h4>
<ul><li>Began deprecation of <code>time_unit_input</code> and <code>time_unit_output</code> arguments and replaced them with the <code>input_time_unit</code> and <code>num_pt_year</code>, respectively, in <code>control_incidence_rate</code>.</li>
<li>Removed deprecated <code>pairwise</code> function.</li>
<li>Deprecated <code>a_compare</code> and replaced it with <code>a_summary</code> with argument <code>compare = TRUE</code>.</li>
<li>Deprecated helper functions <code>create_afun_summary</code> and <code>create_afun_compare</code> which are no longer used by <code>a_summary</code> and <code>a_compare</code> respectively.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-8-4">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-4"></a></h4>
<ul><li>Fixed long double assertion check in <code>sum(weights)</code> for <code>M1mac</code> installation.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.3" id="tern-083">tern 0.8.3<a class="anchor" aria-label="anchor" href="#tern-083"></a></h2><p class="text-muted">CRAN release: 2023-06-19</p>
<div class="section level4">
<h4 id="enhancements-0-8-3">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-8-3"></a></h4>
<ul><li>Added explicit zero counts to <code>g_km</code> plot “at risk” annotation tables.</li>
<li>Added a flag for total level split in <code>analyze_patients_exposure_in_cols</code>.</li>
<li>Implemented <code>.indent_mods</code> argument in functions <code>h_tab_one_biomarker</code>, <code>h_tab_rsp_one_biomarker</code>, <code>h_tab_surv_one_biomarker</code>, <code>summarize_logistic</code>, <code>logistic_summary_by_flag</code>, <code>tabulate_rsp_biomarkers</code>, <code>a_coxreg</code>, <code>summarize_coxreg</code>, <code>tabulate_survival_biomarkers</code>, <code>surv_time</code>, <code>surv_timepoint</code>, and <code>cfun_by_flag</code>.</li>
<li>Updated <code>summarize_coxreg</code> to print covariates in data rows for univariate Cox regression with no interactions and content rows otherwise.</li>
<li>Removed “baseline status” text from <code>d_count_abnormal_by_baseline</code> labels.</li>
<li>Improved default sizing of annotation tables in <code>g_km</code> and added dynamic scaling of the <code>surv_med</code> and <code>coxph</code> annotation tables, with customization via the <code>width_annots</code> argument.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-8-3">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-3"></a></h4>
<ul><li>Fixed bug in <code>split_text_grob</code> preventing titles and footnotes from being properly formatted and printed by <code>decorate_grob</code>.</li>
<li>Fixed bug in <code>g_lineplot</code> preventing the addition of lines to the plot when midpoint statistic calculations result in <code>NA</code> value(s).</li>
<li>Fixed <code>tern:::tidy.glm</code> formals to respect <code>broom:::tidy.default</code> formals.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-8-3">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-8-3"></a></h4>
<ul><li>Updated <code>README</code> to include installation instructions for CRAN.</li>
<li>Remove examples for unexported functions.</li>
<li>Export functions <code>has_count_in_cols</code>, <code>has_counts_difference</code>, <code>combine_counts</code>, <code>h_tab_rsp_one_biomarker</code>, <code>arrange_grobs</code>, <code>a_count_patients_sum_exposure</code>, <code>a_coxreg</code>, <code>groups_list_to_df</code>, <code>forest_viewport</code>.</li>
<li>Updated <code>README</code> to include installation instructions for CRAN.</li>
<li>Began deprecation of <code>indent_mod</code> argument and replaced it with the <code>.indent_mods</code> argument in <code>summarize_num_patients</code> and <code>analyze_num_patients</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.2" id="tern-082">tern 0.8.2<a class="anchor" aria-label="anchor" href="#tern-082"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-0-8-2">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-8-2"></a></h4>
<ul><li>Refactored <code>s_coxreg</code> and <code>summarize_coxreg</code>to work with new analysis function <code>a_coxreg</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-8-2">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-8-2"></a></h4>
<ul><li>Added <code>section_div</code> and <code>na_level</code> arguments to <code>summarize_vars</code>.</li>
<li>Added <code>median_range</code> as a numeric variable statistic option for <code>summarize_vars</code>.</li>
<li>Corrected ordering of factor levels by <code>d_onco_rsp_label</code>.</li>
<li>Added new “Analyze Functions”, “Summarize Functions”, and “Analyze Functions on Columns” overview pages.</li>
<li>Consolidated all KM plot documentation within the <code>g_km</code> function.</li>
<li>Added <code>a_count_patients_sum_exposure</code> for <code>summarize_patients_exposure_in_cols</code> and new analyze function <code>analyze_patients_exposure_in_cols</code>.</li>
<li>Added more informative error when the user selects an invalid method for unstratified analyses in <code>s_proportion_diff</code>.</li>
<li>Updated <code>s_summary</code> and <code>s_compare</code> to allow <code>NA</code> values in input variables. For factor variables with <code>NA</code>s, if <code>na.rm = FALSE</code> an explicit <code>NA</code> level will be automatically added. <code>na.rm = TRUE</code> will also consider <code>"&lt;Missing&gt;"</code> values and exclude them.</li>
<li>Updated purpose of <code>na_level</code> parameter in <code>s_summary</code> and <code>s_compare</code> to align with other <code>tern</code> functions. Instead of being a string to consider as <code>NA</code> when setting <code>na.rm = TRUE</code>, it now defines a string to print in place of <code>NA</code> values in the output table.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-8-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-2"></a></h4>
<ul><li>Fixed missing label for <code>TRTEDTM</code> in <code>tern</code> datasets.</li>
<li>Fixed improper implementation of <code>na_level</code> argument in <code>summarize_vars</code> preventing it from having an effect.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-8-2">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-8-2"></a></h4>
<ul><li>Implemented the <code>lubridate</code> package for date variables in <code>tern</code> datasets.</li>
<li>Organized <code>.gitignore</code> and <code>.Rbuildignore</code> files.</li>
<li>Removed deprecated <code>footnotes</code> functions and all related files.</li>
<li>Started deprecation cycle for <code>pairwise</code> function.</li>
<li>Moved <code>count_patients_with_flags</code> functions from <code>count_patients_with_event.R</code> to <code>count_patients_with_flags.R</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.0" id="tern-080">tern 0.8.0<a class="anchor" aria-label="anchor" href="#tern-080"></a></h2>
<div class="section level4">
<h4 id="enhancements-0-8-0">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-8-0"></a></h4>
<ul><li>Added <code>summarize_glm_count</code> function to analyze count data using a linear model.</li>
<li>Added legend to <code>g_step</code>.</li>
<li>Added formatting functions <code>format_fraction_fixed_dp</code> and <code>format_count_fraction_fixed_dp</code> with fixed single decimal place in percentages.</li>
<li>Added <code>na_level</code> and <code>labelstr</code> arguments to <code>summarize_vars_in_cols</code>.</li>
<li>Added <code>analyze_num_patients</code> to include summary at the beginning that does not repeat when paginating.</li>
<li>Added <code>h_row_first_values</code> function as a more general helper function to retrieve first values from specific rows.</li>
<li>Added option to remove <code>"(n)"</code> suffix from <code>unique_count</code> labels for <code>s_num_patients</code>.</li>
<li>Added options to <code>g_km</code> to annotate with statistics (<code>annot_stats</code>) and add corresponding vertical lines (<code>annot_stats_lines</code>).</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-8-0">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-8-0"></a></h4>
<ul><li>Fixed bug causing incorrect ordering of numeric grade levels when missing grades are present in <code>s_count_occurrences_by_grade</code>.</li>
<li>Refactored <code>summarize_vars_in_cols</code> to work with pagination machinery.</li>
<li>Fixed bug to allow passing of <code>conf_level</code> argument to <code><a href="https://rdrr.io/pkg/emmeans/man/contrast.html" class="external-link">emmeans::contrast()</a></code> in <code>s_ancova</code>.</li>
<li>Fixed bugs in <code>rtables_access.R</code> caused by not checking for specific combinations (also the standard values that were never used) of column indices and names.</li>
<li>Fixed single applicable record bug in <code>count_abnormal_by_grade</code>.</li>
<li>Fixed bug in <code>add_rowcounts</code> that caused all row count row values to count as zero.</li>
<li>Fixed bug in <code>h_col_indices</code> causing an error when pruning with combination columns.</li>
<li>Fixed bug in <code>test_proportion_diff</code> missing argument for <code>var_labels</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-and-tests-0-8-0">Documentation and Tests<a class="anchor" aria-label="anchor" href="#documentation-and-tests-0-8-0"></a></h4>
<ul><li>Added more tests to increase code coverage.</li>
<li>Created separate documentation files for functions in different sections of <code>pkgdown</code> reference.</li>
<li>Created separate <code>.R</code> files for logistic regression and cox regression helper functions.</li>
<li>Fixed table tests using <code>analyze_num_patients</code> to generate an initial summary so there is no repetition when paginating.</li>
<li>Updated tests to use <code>testthat</code> 3rd edition and replaced applicable tests with snapshot testing.</li>
<li>Updated <code>summarize_ancova</code> examples to use <code>iris</code> dataset instead of <code>scda</code> data.</li>
<li>Created vignette which saves cached synthetic <code>CDISC</code> dataset files to the <code>data/</code> folder and generated cached synthetic datasets.</li>
<li>Updated all examples/tests to use datasets from the <code>data/</code> folder instead of <code>scda</code> datasets.</li>
<li>Removed all template tests from <code>tern</code>. These tests are in internal repo <code>scda.test</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-8-0">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-8-0"></a></h4>
<ul><li>Renamed <code>summarize_vars_in_cols</code> to <code>analyze_vars_in_cols</code> to reflect the appropriate <code>analyze</code> logic.</li>
<li>Removed redundant <code>summary_in_cols</code> helper functions.</li>
<li>Exported function <code>format_xx</code>.</li>
<li>Replaced deprecated <code>ggplot2</code> functions/arguments to fix warnings.</li>
<li>Replaced deprecated function <code><a href="https://forcats.tidyverse.org/reference/fct_explicit_na.html" class="external-link">forcats::fct_explicit_na</a></code> with <code><a href="https://forcats.tidyverse.org/reference/fct_na_value_to_level.html" class="external-link">forcats::fct_na_value_to_level</a></code>.</li>
<li>Removed deprecated <code>wrap_text</code> function and related files.</li>
<li>Started deprecation cycle for <code>footnotes</code> functions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.10" id="tern-0710">tern 0.7.10<a class="anchor" aria-label="anchor" href="#tern-0710"></a></h2>
<div class="section level4">
<h4 id="new-features-0-7-10">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-7-10"></a></h4>
<ul><li>Added stratified <code>Newcombe</code> and stratified Wilson statistics to <code>estimate_proportion</code> and <code>estimate_proportion_diff</code> with relative tests.</li>
<li>Added <code>stat_mean_pval</code>, a new summary statistic to calculate the p-value of the mean.</li>
<li>Added statistic <code>mean_se</code> (mean with standard error) for <code>summarize_variables</code> and related functions.</li>
<li>Introduced again <code>Rdpack</code> for references.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-10">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-10"></a></h4>
<ul><li>Redesign of data handling in tests by removing repetitive data loads and library calls.</li>
<li>Added <code><a href="https://andrisignorell.github.io/DescTools/reference/BinomDiffCI.html" class="external-link">DescTools::BinomDiffCI</a></code> function within <code>tern</code>.</li>
<li>Added new parameter to <code>summarize_logistic</code> to specify which pivoted value to use during analysis.</li>
<li>Updated <code>s_coxph_pairwise</code> to generate log-rank p-value using original log-rank test instead of Cox Proportional-Hazards Model.</li>
<li>Implemented <code>nestcolor</code> in all examples by adapting <code>g_km</code>, <code>g_ipp</code>, <code>g_waterfall</code>, <code>g_step</code>, <code>g_lineplot</code>, and <code>g_forest</code>.</li>
<li>Added parameters <code>interaction_y</code> and <code>interaction_item</code> in <code>ANCOVA</code> to make the interaction calculations available.</li>
<li>Added new parameter <code>footnotes</code> to add footnotes to <code>g_km</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="migration-from-assertthat-to-checkmate-0-7-10">Migration from <code>assertthat</code> to <code>checkmate</code>
<a class="anchor" aria-label="anchor" href="#migration-from-assertthat-to-checkmate-0-7-10"></a></h4>
<ul><li>Implemented <code><a href="https://mllg.github.io/checkmate/reference/checkVector.html" class="external-link">checkmate::assert_vector</a></code>, <code><a href="https://mllg.github.io/checkmate/reference/checkSetEqual.html" class="external-link">checkmate::assert_set_equal</a></code>, and <code><a href="https://mllg.github.io/checkmate/reference/checkInt.html" class="external-link">checkmate::assert_int</a></code> to check vector type, length, and values.</li>
<li>Replaced with standard assertions from <code>checkmate</code> the following functions: <code>all_elements_in_ref</code>, <code>is_df_with_nlevels_factor</code>, <code>is_df_with_no_na_level</code>, <code>is_proportion_vector</code>, <code>is_quantiles_vector</code>, <code>is_character_or_factor</code>, <code>is_nonnegative_count</code>, <code>is_valid_character</code>, <code>assert_character_or_factor</code>, <code>assert_equal_length</code> and <code>has_tabletree_colnames</code>.</li>
<li>Modified <code>is_proportion</code>, <code>is_equal_length</code>, <code>is_df_with_no_na_level</code>, <code>is_df_with_nlevels_factor</code>, <code>is_variables</code>, <code>is_df_with_variables</code>, <code>is_df_with_factors</code>, <code>is_valid_factor</code> to use assertion logic.</li>
<li>Added more verbose warnings from <code>as_factor_keep_attributes</code>.</li>
<li>Made <code>assert_df_with_factors</code> and <code>assert_proportion_value</code> internal functions.</li>
<li>Renamed <code>assertthat.R</code> and <code>test-assertthat.R</code> to <code>utils_checkmate.R</code> and <code>test-utils_checkmate.R</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-and-namespace-polishing-0-7-10">Documentation and NAMESPACE Polishing<a class="anchor" aria-label="anchor" href="#documentation-and-namespace-polishing-0-7-10"></a></h4>
<ul><li>Added stable badges for:
<ul><li>
<code>count_abnormal_by_marked</code> (reference to <code>abnormal_by_marked</code>), <code>count_abnormal_lab_worsen_by_baseline</code> and <code>h_adlb_worsen</code> (reference to <code>abnormal_by_worst_grade_worsen_from_baseline</code>), <code>count_abnormal_by_worst_grade</code> (reference to <code>abnormal_by_worst_grade</code>), <code>to_string_matrix</code>, <code>tidy.summary.coxph</code>, <code>tidy.step</code>, <code>surv_timepoint</code>, (reference to <code>survival_timepoint</code>), <code>surv_time</code> (reference to <code>survival_time</code>), <code>coxph_pairwise</code> (reference to <code>survival_coxph_pairwise</code>), <code>extract_survival_subgroups</code> and <code>tabulate_survival_subgroups</code> (reference to <code>survival_duration_subgroups</code>), <code>extract_survival_biomarkers</code> and <code>tabulate_survival_biomarkers</code> (reference to <code>survival_biomarkers_subgroups</code>), <code>control_summarize_vars</code>, <code>s_summary</code> and <code>a_summary</code> (reference to <code>summarize_variables</code>) and kept the S3 method tree.</li>
<li>
<code>summarize_patients_exposure_in_cols</code>, <code>summarize_num_patients</code> with <code>s_num_patients</code>, <code>s_num_patients_content</code>, <code>summarize_num_patients</code>.</li>
<li>
<code>count_cumulative</code>, <code>count_missed_doses</code>, <code>count_patients_events_in_cols</code>, <code>summarize_colvars</code>, <code>summarize_change</code>, <code>summarize_ancova</code>,<code>as.rtable</code>, <code>color_palette</code>, <code>add_footnotes</code>.</li>
<li>(statistical function controls) <code>control_coxreg</code>, <code>control_coxph</code>, <code>control_incidence_rate</code>, <code>control_lineplot_vars</code>, <code>control_surv_time</code>, <code>control_surv_timepoint</code>, <code>control_logisitic</code>, <code>control_step</code>.</li>
<li>
<code>stat_mean_ci</code>, <code>stat_median_ci</code>, <code>split_cols_by_groups</code>, <code>explicit_na</code>, <code>sas_na</code>, <code>extract_rsp_subgroups</code>, <code>tabulate_rsp_subgroups</code>, <code>extract_rsp_biomarkers</code>, <code>tabulate_rsp_biomarkers</code>, <code>keep_rows</code>, <code>keep_content_rows</code>, <code>has_count_in_any_col</code>, <code>has_fraction_in_cols</code>, <code>has_fraction_in_any_col</code>, <code>has_fractions_difference</code>, <code>test_proportion_diff</code>, <code>pairwise</code>, <code>logistic_regression</code>, <code>estimate_incidence_rate</code>, <code>control_incidence_rate</code> (reference to <code>incidence_rate</code>), <code>cut_quantile_bins</code>, <code>estimate_multinomial_rsp</code>, <code>decorate_grob_set</code>, <code>extreme_format</code>, <code>fit_rsp_step</code>, <code>fit_survival_step</code>, <code>footnotes</code>, <code>footnotes-set</code>, <code>format_count_fraction</code>, <code>format_fraction_threshold</code>, <code>formatting_functions</code>, <code>format_fraction</code>, <code>combination_function</code> (S4 method), <code>compare_variables</code> (S3 method), <code>kaplan_meier</code>.</li>
</ul></li>
<li>Internal keywords added, export removed, <code>_pkgdown.yml</code> updated, and <code>tern:::</code> added for tests/examples/vignettes where present for the following functions:
<ul><li>(chain functions, reference to <code>abnormal_by_marked</code>) <code>s_count_abnormal_by_marked</code>, <code>a_count_abnormal_by_marked</code>.</li>
<li>(chain functions, reference to <code>abnormal_by_worst_grade_worsen_from_baseline</code>) <code>a_count_abnormal_lab_worsen_by_baseline</code>, <code>s_count_abnormal_lab_worsen_by_baseline</code>.</li>
<li>(chain functions, reference to <code>abnormal_by_worst_grade</code>) <code>s_count_abnormal_by_worst_grade</code>, <code>a_count_abnormal_by_worst_grade</code>.</li>
<li>(chain functions, reference to <code>survival_timepoint</code>) <code>s_surv_timepoint</code>, <code>s_surv_timepoint_diff</code>, <code>a_surv_timepoint</code>, <code>a_surv_timepoint_diff</code>.</li>
<li>(chain functions, reference to <code>survival_time</code>) <code>s_surv_time</code>, <code>a_surv_time</code>.</li>
<li>(chain functions, reference to <code>survival_coxph_pairwise</code>) <code>s_coxph_pairwise</code>, <code>a_coxph_pairwise</code>.</li>
<li>(chain functions, reference to <code>survival_duration_subgroups</code>) <code>a_survival_subgroups</code>.</li>
<li>(chain functions, reference to <code>count_cumulative</code>) <code>s_count_cumulative</code>, <code>a_count_cumulative</code>.</li>
<li>(chain functions, reference to <code>count_missed_doses</code>) <code>s_count_nonmissing</code>, <code>s_count_missed_doses</code>, <code>a_count_missed_doses</code>.</li>
<li>(chain functions, reference to <code>count_patients_events_in_cols</code>) <code>s_count_patients_and_multiple_events</code>, <code>summarize_patients_events_in_cols</code>.</li>
<li>(chain functions, reference to <code>incidence_rate</code>) <code>s_incidence_rate</code>, <code>a_incidence_rate</code>.</li>
<li>(cox regression helper) <code>cox_regression_inter</code>, <code>decorate_grob_factory</code>, <code>draw_grob</code>, <code>estimate_coef</code>.</li>
<li>
<code>summary_labels</code>, <code>summary_formats</code>, <code>s_count_patients_sum_exposure</code>, <code>a_change_from_baseline</code> <code>s_change_from_baseline</code>, <code>a_ancova</code>, <code>s_ancova</code>, <code>arrange_grobs</code>, <code>as_factor_keep_attributes</code>, <code>combine_levels</code>, <code>split_text_grob</code>, <code>groups_list_to_df</code>, <code>s_cox_multivariate</code>, <code>is_leaf_table</code>, <code>a_response_subgroups</code>, <code>range_noinf</code>, <code>has_count_in_cols</code>, <code>has_counts_difference</code>, <code>prop_chisq</code>, <code>prop_cmh</code>, <code>prop_schouten</code>, <code>prop_fisher</code>, <code>s_test_proportion_diff</code>, <code>a_test_proportion_diff</code>, <code>fct_discard</code>, <code>fct_explicit_na_if</code>.</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-10">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-10"></a></h4>
<ul><li>Fixed retrieval method of <code>stats::ancova</code> output due to version inconsistency.</li>
<li>Fixed tests to respect the new standard print for <code>NA</code> coming from <code>rtables</code>.</li>
<li>Fixed error in tests coming from changes in <code><a href="https://rdrr.io/pkg/formatters/man/var_labels.html" class="external-link">formatters::var_labels</a></code>.</li>
<li>Fixed <code>prop_diff</code> functions to respect success responses (<code>TRUE</code> values).</li>
<li>Fixed error coming from comparing factors vector to characters vector.</li>
<li>Fixed empty vector exception for <code>cut_quantile_bins</code>.</li>
<li>Fixed exception error when empty strings are present in pivoted columns (<code>rtables</code> split functions)</li>
<li>Fixed bug in <code>s_ancova</code> causing an error when the first level of the arm factor is not the control arm.</li>
<li>Fixed bug in <code>s_abnormal_by_worst_grade</code> when there is one <code>PARAM</code> level.</li>
<li>Fixed bug in <code>prop_diff_wald</code> when selecting all responders, updated tests accordingly.</li>
<li>Fixed bug in <code>h_ancova</code> that caused an error when deselecting all covariates.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-10">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-10"></a></h4>
<ul><li>Added deprecated badge to <code>g_mmrm</code>.</li>
<li>Removed internal function calls in examples (<code>tern:::</code>) and added <code>dontrun</code> to internal function examples.</li>
<li>Removed warnings and messages to console occurring in examples and tests.</li>
<li>Deprecated functions <code>color_palette</code> and <code>h_set_nest_theme</code> in favor of <code><a href="https://rdrr.io/pkg/nestcolor/man/color_palette.html" class="external-link">nestcolor::color_palette</a></code> and <code><a href="https://rdrr.io/pkg/nestcolor/man/theme_nest.html" class="external-link">nestcolor::theme_nest</a></code>, respectively.</li>
<li>Removed deprecated functions: <code>color_palette</code>, <code>color_palette_core</code>, <code>h_set_nest_theme</code>, <code>s_cox_univariate</code>.</li>
<li>Removed deprecated <code>mmrm</code> functions: <code>fit_mmrm</code>, <code>g_mmrm_diagnostic</code>, <code>g_mmrm_lsmeans</code>, <code>as.rtable.mmrm</code>, <code>h_mmrm_fixed</code>, <code>h_mmrm_cov</code>, <code>h_mmrm_diagnostic</code>, <code>tidy.mmrm</code>, <code>s_mmrm_lsmeans</code>, <code>s_mmrm_lsmeans_single</code>, <code>summarize_lsmeans</code>.</li>
<li>Renamed functions <code>arm</code> to <code>study_arm</code> and <code>extract</code> to <code>extract_by_name</code>.</li>
<li>Renamed <code>rtables.R</code> to <code>utils_rtables.R</code>.</li>
<li>Extracted <code>cox_regression_inter</code> into a separate file from <code>cox_regression</code>.</li>
<li>Renamed <code>estimate_incidence_rate.R</code> to <code>incidence_rate.R</code> to match the documentation grouping name.</li>
<li>Extracted <code>control_incidence_rate</code> into a separate file because it produces a separate documentation file.</li>
<li>Added <code>@md</code> and removed <code>@order</code> from <code>incidence_rate.R</code>. Modified examples accordingly.</li>
<li>Removed hyperlink from <code>prop_schouten</code> function documentation.</li>
<li>Exported <code>draw_grob</code> function.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.8" id="tern-078">tern 0.7.8<a class="anchor" aria-label="anchor" href="#tern-078"></a></h2>
<div class="section level4">
<h4 id="fix-0-7-8">Fix<a class="anchor" aria-label="anchor" href="#fix-0-7-8"></a></h4>
<ul><li>
<code>h_split_by_subgroups</code> documentation warning fix for wrong placing of example block</li>
</ul></div>
<div class="section level4">
<h4 id="documentation-and-namespace-polishing-0-7-8">Documentation and NAMESPACE polishing<a class="anchor" aria-label="anchor" href="#documentation-and-namespace-polishing-0-7-8"></a></h4>
<ul><li>Adopting the standard of badges for <code>@description</code> instead of every <code>@descriptionIn</code> function. Corrected accordingly <code>summarize_variables_in_cols</code>
</li>
<li>Added stable badge for <code>g_lineplot</code>, <code>g_step</code>, <code>g_waterfall</code>, <code>cox_regression</code>, <code>score_occurrences</code>, <code>add_rowcounts</code>, <code>odds_ratio</code>, <code>count_occurrences</code>, <code>count_occurrences_by_grade</code>, <code>explicit_na</code>, <code>df_explicit_na</code>, <code>count_patients_with_event</code>, <code>decorate_grob</code>, <code>combine_groups</code>, <code>append_varlabels</code>, <code>univariate</code>, <code>stack_grobs</code>, <code>count_abnormal</code> (reference to <code>abnormal</code>), <code>count_abnormal_by_baseline</code> (reference to <code>abnormal_by_baseline</code>).</li>
<li>Internal keywords added, export removed, <code>_pkgdown.yml</code> polished and <code>tern:::</code> for tests, examples, and vignettes when present for the following functions:
<ul><li>(helper functions) <code>h_format_row</code>, <code>h_map_for_count_abnormal</code>
</li>
<li>(utils functions) <code>make_names</code>, <code>month2day</code>, <code>day2month</code> <code>empty_vector_if_na</code>, <code>aesi_label</code>, <code>n_available</code>, <code>format_xx</code>, <code>arm</code>.</li>
<li>
<code>count_values_funs</code>, <code>prop_difference</code>, <code>combine_counts</code>.</li>
<li>(chain functions) <code>s_count_abnormal</code>, <code>a_count_abnormal</code>.</li>
<li>(chain functions) <code>s_count_abnormal_by_baseline</code>, <code>a_count_abnormal_by_baseline</code>, <code>d_count_abnormal_by_baseline</code>.</li>
</ul></li>
<li>Deprecated <code>s_cox_univariate</code> function has now deprecated badge.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-8">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-8"></a></h4>
<ul><li>Enhanced <code>g_lineplot</code> with table to automatically scale the table height and return a <code>ggplot</code> object.</li>
<li>Enhanced <code>g_ipp</code> with caption argument and adjust the position.</li>
<li>Enhanced <code>prop_diff</code>, <code>tern</code> function and related functions to be able to apply a continuity correction in the <code>Newcombe</code> method.</li>
<li>Enhanced <code>summarize_numeric_in_columns</code> and <code>summarize_variables</code> to allow factor/character summary and to be able to summarize the number of <code>BLQs</code> in <code>AVALC</code> from <code>ADPC</code> dataset.</li>
<li>Updated order of summarize variables stats in manual for order consistency.</li>
<li>Added a <code>sum</code> option to <code>summarize_variables</code>.</li>
<li>Use consistent color palette for plotting (<code>stream</code> by default).</li>
<li>Enhanced <code>h_pkparam_sort</code> function with argument <code>key_var</code> to allow data with different column names.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-8">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-8"></a></h4>
<ul><li>Updated <code>test-table_aet02.R</code> variant 12.</li>
<li>Changed the <code>scda</code> data version to ‘2022-02-28’.</li>
<li>Added a template to the <code>pkgdown</code> site.</li>
<li>Removed package dependencies of <code>grDevices</code>, <code>stringr</code>, and <code>viridisLite</code>.</li>
<li>Renaming <code>summarize_numeric_in_columns</code> to <code>summarize_variables_in_columns</code>.</li>
<li>Renaming <code>summarize_vars_numeric_in_cols</code> to <code>summarize_vars_in_cols</code>.</li>
<li>Fixed a bug where points on the <code>g_lineplot</code> plot were not connected when missing values.</li>
<li>Updated the package authors.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.7" id="tern-077">tern 0.7.7<a class="anchor" aria-label="anchor" href="#tern-077"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-0-7-7">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-7-7"></a></h4>
<ul><li>Move <code>MMRM</code> into a separate package <code>tern.mmrm</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-7-7">New features<a class="anchor" aria-label="anchor" href="#new-features-0-7-7"></a></h4>
<ul><li>Added <code>h_pkparam_sort</code> to order <code>PK PARAM</code> value based on the order of the dataset generated by <code><a href="../reference/d_pkparam.html">d_pkparam()</a></code>.</li>
<li>Added <code>d_pkparam</code> to generate PK parameter map for sorting.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-7">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-7"></a></h4>
<ul><li>Changed the <code>nudge_y</code> argument of <code>h_g_ipp</code> to be dependent on the data, fixing an issue whereby the baseline labels were offset incorrectly.</li>
<li>Enhanced <code>stat_mean_ci</code> and <code>s_summary.numeric</code> to calculate the geometric mean with its confidence intervals.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-7">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-7"></a></h4>
<ul><li>Updated dependencies and internal adjustments after the <code>rtables</code> package refactor.</li>
<li>Removed <code>with_label</code>, <code>var_labels</code>, and <code>var_labels&lt;-</code> to resolve conflict with the <code>formatters</code> package, a new dependency.</li>
<li>Added new “Introduction to <code>tern</code>” and “<code>tern</code> tabulation” vignettes.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.6" id="tern-076">tern 0.7.6<a class="anchor" aria-label="anchor" href="#tern-076"></a></h2>
<div class="section level4">
<h4 id="new-features-0-7-6">New features<a class="anchor" aria-label="anchor" href="#new-features-0-7-6"></a></h4>
<ul><li>Added <code>h_map_for_count_abnormal</code> to create the map used in <code>trim_levels_to_map</code> split function by calling this helper function. It supports two methods: one with all observed mapping, one with at least low limit above zero and at least one non missing high limit.</li>
<li>Added <code>s_summary_numeric_in_cols</code> and <code>summarize_vars_numeric_in_cols</code> functions to generate summary statistics in columns, mainly used for PK datasets.</li>
<li>Added five statistics to <code>s_summary.numeric</code> to use in <code>s_summary_numeric_in_cols</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-6">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-6"></a></h4>
<ul><li>Enhanced functions <code>tabulate_survival_subgroups</code> and <code>tabulate_rsp_subgroups</code> (Survival Duration and Best Response analyses) to calculate <code>N</code>-s based on the records considered to create the model.</li>
<li>Enhanced the function <code>estimate_proportion</code> and related functions to be able to apply a continuity correction in the Wilson method.</li>
<li>Refactored <code>count_abnormal_by_marked</code> and related statistics and formatting functions to use a more efficient layout with <code>.spl_context</code> argument used for determining denominators and with <code>trim_levels_to_map</code> split function under <code>split_rows_by</code> to show the desired levels in the table. This is a breaking change.</li>
<li>Refactored <code>count_abnormal_by_worst_grade</code> and related statistics and formatting functions to use a more efficient layout with <code>.spl_context</code> argument used for determining denominators and with <code>trim_levels_to_map</code> split function under <code>split_rows_by</code> to show the desired levels in the table. This is a breaking change.</li>
<li>Refactored <code>count_abnormal</code> function and related statistics and formatting functions to use a more efficient layout with <code>trim_levels_to_map</code> split function under <code>split_rows_by</code> to show the desired levels in the table. Also updated <code>abnormal</code> argument to be able to consider more than one level for each direction. This is a breaking change.</li>
<li>Enhanced the function <code>estimate_incidence_rate</code> and related functions to consider the week as time unit for data input.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-6"></a></h4>
<ul><li>Fixed bug in <code>assertthat</code> functions that output wrong data frame names and limited length of failure message outputs.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-6">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-6"></a></h4>
<ul><li>Removed dependency on <code>utils.nest</code> by using the <code>checkmate</code> and <code>purrr</code> packages for validation and moved <code>get_free_cores</code> and <code>skip_if_too_deep</code> functions from <code>utils.nest</code> into <code>tern</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.5" id="tern-075">tern 0.7.5<a class="anchor" aria-label="anchor" href="#tern-075"></a></h2>
<div class="section level4">
<h4 id="new-features-0-7-5">New features<a class="anchor" aria-label="anchor" href="#new-features-0-7-5"></a></h4>
<ul><li>Added functions to estimate continuous biomarker effects across subgroups for survival and binary response endpoints, used to produce corresponding forest plots, see <code>survival_biomarkers_subgroups</code> and <code>response_biomarkers_subgroups</code>.</li>
<li>Added <code>g_lineplot</code> plot function, including new <code>h_format_row</code> helper function and <code>control_lineplot_vars</code> function. Removed <code>g_summary_by</code>.</li>
<li>Added new safety helper function <code>h_stack_by_baskets</code> to stack events in <code>SMQ</code> and/or <code>CQ</code> basket flag in <code>ADAE</code> data set.</li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-5">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-5"></a></h4>
<ul><li>Added a couple of new statistics to <code>s_summary.numeric</code>. Added <code>names</code> attribute to each element of the final list returned by the <code>s_summary.numeric</code> function. Added <code>summary_formats</code> and <code>summary_labels</code> helper functions.</li>
<li>Added option to also convert logical variables to factor variables in <code>df_explicit_na</code>.</li>
<li>Refactored <code>h_append_grade_groups</code> to improve its flexibility, robustness and clearness, and to make sure the result is ordering according to the order of <code>grade_groups</code>. Also, added <code>remove_single</code> argument which controls whether the elements of one-element grade groups are in the output or removed.</li>
<li>Added <code>var_labels</code> and <code>show_labels</code> arguments to <code>count_occurrences</code> and <code>count_patients_with_flags</code> to allow for creation of a title row.</li>
<li>Added <code>na_level</code> argument to <code>count_abnormal_by_baseline</code>.</li>
<li>Updated <code>h_append_grade_groups</code> to no longer fill-in empty grade groups with zeros.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-5">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-5"></a></h4>
<ul><li>Fixed <code>prop_diff_cmh</code> to handle edge case of no FALSE (or TRUE) responses.</li>
<li>Enhanced <code>g_mmrm_diagnostic</code> to improve error handling when data is not amenable to the Locally Weighted Scatterplot Smoothing.</li>
<li>Fixes in <code>g_km</code>:
<ul><li>Plot can now display any combination of the annotation tables for number of patients at risk, median survival time, and <code>CoxPH</code> summary.</li>
<li>Function will return a warning instead of an error if the <code>arm</code> variable includes a single level and <code>annot_coxph = TRUE</code>.</li>
<li>Lines in the plot now start at time 0 and probability 1.</li>
<li>Category labels can include the equals sign.</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-5">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-5"></a></h4>
<ul><li>Fixed <code>day2month</code> and <code>month2day</code> to work with NA data.</li>
<li>Added parameters for <code>stat_mean_ci</code> and <code>stat_median_ci</code> so that they may return different outputs.</li>
<li>Added functionality in <code>h_row_counts</code> to handle analysis rows with <code>NULL</code> cells.</li>
<li>Updated <code>LICENCE</code> and <code>README</code> with new package references.</li>
<li>Added <code>error_on_lint: TRUE</code> to <code>.lintr</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.4" id="tern-074">tern 0.7.4<a class="anchor" aria-label="anchor" href="#tern-074"></a></h2>
<div class="section level4">
<h4 id="new-features-0-7-4">New features<a class="anchor" aria-label="anchor" href="#new-features-0-7-4"></a></h4>
<ul><li>Added new safety layout functions:
<ul><li>
<code>count_abnormal_by_marked</code> tabulates marked laboratory abnormalities.</li>
<li>
<code>summarize_patients_exposure_in_cols</code> tabulates patient counts and sum of exposure across all patients.</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-4">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-4"></a></h4>
<ul><li>Enhanced <code>mmrm</code> related functions for fitting models without <code>arm</code> variable.</li>
<li>Updated <code>cox_regression</code> to work without covariates. Also in case of interaction model summary, p-values for main effect coefficients are no longer displayed.</li>
<li>Descriptive statistics returned by <code>summarize_vars</code> now include quantiles. <code>summarize_vars</code> now accepts the control function <code>control_summarize_vars</code> to specify details about confidence level for mean and median and quantile details. The <code>control</code> argument replaces <code>conf_level</code>.</li>
<li>Added <code>var_labels</code> and <code>show_labels</code> arguments to <code>count_occurrences_by_grade</code>.</li>
<li>Changed <code>indent</code> argument in <code>append_varlabels</code> to accept non-negative integer to represent the indent space defined by user. Previous calls with Boolean <code>indent</code> will do an integer conversion and produce a warning.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-4">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-4"></a></h4>
<ul><li>Corrected <code>tabulate_survival_subgroups</code> and related survival forest plot functions to use total number of events, instead of observations, as default for scaling the symbol sizes in the plot. (The user might still use total number of observations manually if they wish to do so.)</li>
<li>Helper function <code>h_adsl_adlb_merge_using_worst_flag</code> will now impute <code>BTOXGR</code> for missing visits.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-4">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-4"></a></h4>
<ul><li>Deleted <code>count_abnormal_by_worst_grade_by_baseline</code> and its related statistic and analysis functions as a simpler design will create lab abnormality tables.</li>
<li>Switched data in examples to use <code>scda</code> instead of <code>random.cdisc.data</code> package.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.3" id="tern-073">tern 0.7.3<a class="anchor" aria-label="anchor" href="#tern-073"></a></h2>
<div class="section level4">
<h4 id="new-features-0-7-3">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-7-3"></a></h4>
<ul><li>Added Subgroup Treatment Effect Pattern (STEP) model fitting functions <code>fit_rsp_step</code> and <code>fit_survival_step</code>, the corresponding tidy method <code>tidy.step</code> as well as the graph function <code>g_step</code>.</li>
<li>Added new layout function <code>compare_vars</code> which compares variables of different types between columns and produces a p-value for the comparison to the reference column. Function built on top of the <code>summarize_vars</code> functionality.</li>
<li>Added utility functions:
<ul><li>
<code>cut_quantile_bins</code> cuts a numeric vector into quantile bins.</li>
<li>
<code>fct_collapse_only</code> collapses levels of a factor and keeps those in the order provided.</li>
<li>
<code>fct_explicit_na_if</code> inserts explicit missings in a factor based on a condition.</li>
<li>
<code>range_noinf</code> is a kind of a wrapper function of <code><a href="https://rdrr.io/r/base/range.html" class="external-link">base::range</a></code>. It returns <code>c(NA, NA)</code> instead of <code>c(-Inf, Inf)</code> for zero-length data.</li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="enhancements-0-7-3">Enhancements<a class="anchor" aria-label="anchor" href="#enhancements-0-7-3"></a></h4>
<ul><li>Cox regression via <code>fit_coxreg_univar</code> and <code>fit_coxreg_multivar</code> is now also possible without treatment arm. In the univariate case this means that it fits separate univariate models for the provided covariates and tabulation of corresponding effect estimates can later occur.</li>
<li>Added <code>fraction</code> in result returned by <code>s_count_occurrences</code>. It contains a list of numerators and denominators with one element per occurrence.</li>
<li>Updated <code>sum_num_patients</code> and <code>count_occurrences</code> for the result <code>unique</code> and <code>count_fraction</code> to return (0, 0) when input is empty.</li>
<li>Added a new argument <code>groups_lists</code> to <code>extract_survival_subgroups</code>, <code>extract_rsp_subgroups</code> and associated helper functions which allows to group factor levels of subgroup variables into manually defined groups, enhancing the flexibility of the resulting forest graphs.</li>
<li>Forest graph function <code>g_forest</code> now extracts default arguments from attributes of the input table produced by <code>tabulate_rsp_subgroups</code> and <code>tabulate_survival_subgroups</code> so that the user does not have to do this manually anymore.</li>
<li>In <code>g_km</code>:
<ul><li>Remove arm variable name from arm labels in plot legend and annotation tables.</li>
<li>Show symbol used to mark censored cases and match order of arm variable factor levels in the legend.</li>
<li>Display hazard ratio and its confidence interval to two decimal places.</li>
<li>Updated default position of hazard ratio table to stay on the left bottom corner but above x-axis.</li>
<li>Use arm value as strata name in when treatment arm variable has a single level.</li>
</ul></li>
<li>Updated <code>s_surv_time</code> function to use a newly created function <code>range_noinf</code> instead of <code><a href="https://rdrr.io/r/base/range.html" class="external-link">base::range</a></code>.</li>
<li>New argument <code>no_fillin_visits</code> added to <code>h_adsl_adlb_merge_using_worst_flag</code> to specify excluded visits from the post-baseline worst toxicity grade output. Improved <code>h_adsl_adlb_merge_using_worst_flag</code> to include variables shared between <code>adsl</code> and <code>adlb</code>, along with <code>PARAM</code>, <code>PARAMCD</code>, <code>ATOXGR</code>, <code>BTOXGR</code> and optionally <code>AVISIT</code>, <code>AVISITN</code> when <code>by_visit = TRUE</code>. Prior output contained <code>USUBJID</code>, <code>ARMCD</code>, <code>PARAMCD</code>, <code>ATOXGR</code>, and <code>BTOXGR</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-7-3">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-7-3"></a></h4>
<ul><li>Fix bug in <code>s_surv_timepoint</code> for cases when there are zero patients at risk.</li>
<li>Modified <code>stat_median_ci</code> function so that when passing empty var with empty name, no <code>row names contain missing values</code> error would show.</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-7-3">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-7-3"></a></h4>
<ul><li>Deprecated <code>s_cox_univariate</code> function, use <code>fit_coxreg_univar</code> function instead.</li>
<li>Updated default formats of <code>hr</code> and <code>hr_ci</code> in <code>a_coxph_pairwise</code> and median in <code>s_surv_time</code> to align with STREAM.</li>
<li>Updated the pre-processing code in the files <code>test-table_ttet01.R</code> and <code>test-table_dort01.R</code> to make sure the analysis variable <code>EVNT1</code> has both levels of the factor defined.</li>
<li>Improved error message when number of levels in a factor variable in a data frame is not as expected.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.2" id="tern-072">tern 0.7.2<a class="anchor" aria-label="anchor" href="#tern-072"></a></h2>
<ul><li>Fixed column label internal test errors.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.1" id="tern-071">tern 0.7.1<a class="anchor" aria-label="anchor" href="#tern-071"></a></h2>
<ul><li>New argument <code>position_surv_med</code> added to <code>g_km</code> to move position of the annotation table with median survival times.</li>
<li>Fixed bug in <code>g_km</code> related to the ignored arguments <code>pch</code> and <code>size</code> which were not passed on to helper function <code>h_ggkm</code>.</li>
<li>Updated <code>xticks</code> and <code>max_time</code> arguments in <code>g_km</code> for greater functionality. <code>max_time</code> added as an argument in <code>h_xticks</code> to allow this.</li>
<li>Fixed bug in <code>prop_diff_cmh</code> that led to <code>NaN</code> weighted proportion difference estimates and missing confidence intervals. Before this change, when including no patients from one treatment arm for at least one stratum the estimation did not lead to numeric results.</li>
<li>Fixed bug in <code>prop_cmh</code> giving an error in case of at least one stratum containing less than two observations.</li>
<li>New argument <code>n_events</code> added to <code>estimate_incidence_rate</code>.</li>
<li>New argument <code>denom</code> added to <code>count_occurrences</code>.</li>
<li>New arguments <code>yval</code> and <code>ci_ribbon</code> added to <code>g_km</code>.</li>
<li>Add new individual patient plot function <code>g_ipp</code> along with helpers <code>h_g_ipp</code> and <code>h_set_nest_theme</code>.</li>
<li>Fixed bug in <code>count_patients_with_events</code>, now shows zero counts without percentage.</li>
<li>Fixed bug in <code>get_mmrm_lsmeans</code> which did not allow <code>MMRM</code> analysis of more than 3000 observations.</li>
<li>Updated <code>stat_mean_ci</code> and <code>stat_median_ci</code> to handle edge cases with number of elements in input series equal to 1. For such cases, <code>NA_real_</code> is now returned, instead of <code>NA</code> or <code>+/-Inf</code> for confidence interval (CI) estimates.</li>
<li>Rename <code>n_lim</code> argument of <code>stat_mean_ci</code> to <code>n_min</code> to better reflect its desired meaning.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.7.0" id="tern-070">tern 0.7.0<a class="anchor" aria-label="anchor" href="#tern-070"></a></h2>
<p>This version of <code>tern</code> introduces a major rewriting of <code>tern</code> due to the change to layout based tabulation in <code>rtables</code>. <code>tern</code> now does not build tables directly anymore, instead it provides analysis functions to build tables, see the examples. * Counting patients with abnormal values post-baseline with <code>count_abnormal</code>. * Counting patients with graded abnormal values with <code>count_abnormal_by_worst_grade</code>. * Counting patients with abnormal values by baseline status with <code>count_abnormal_by_baseline</code>. * Counting patients with missed doses with <code>s_count_missed_doses</code> and <code>count_missed_doses</code>. * Counting patients with event flags with <code>count_patients_with_event</code> and <code>count_patients_with_flags</code>. * Summarizing variables with <code>summarize_vars</code> (supports numeric, factor, character and logical variables). Note that factors need to have <code>NA</code>s converted to <code>na_level</code> before use. * Summarizing change from baseline with <code>summarize_change</code>. * Summarizing variables in columns with <code>summarize_colvars</code>. * Estimating difference for responder proportions with <code>estimate_proportion_diff</code>. * Estimating difference for Odds Ratio with <code>estimate_odds_ratio</code>. * Testing the difference in responder proportions with <code>test_proportion_diff</code>. * Estimating the responder proportion for the level of a factor with <code>estimate_multinomial_response</code>. * Fitting and tabulating the results of Cox regressions with <code>fit_coxreg_univar</code>, <code>fit_coxreg_multivar</code> and <code>summarize_coxreg</code>, respectively. * Pruning occurrence tables (or tables with counts and fractions) with flexible rules, see <code><a href="../reference/prune_occurrences.html">?prune_occurrences</a></code> for details. * Sorting occurrence tables using different options, see <code><a href="../reference/score_occurrences.html">?score_occurrences</a></code> for details. * Fitting and tabulating <code>MMRM</code> models with <code>fit_mmrm</code> and <code>as.rtable</code> and <code>summarize_lsmeans</code>, see <code>?tabulate_mmrm</code> for details. * Counting the number of unique and non-unique patients with <code>summarize_num_patients</code>. * Counting occurrences with <code>count_occurrences</code>. * Counting occurrences by grade with <code>summarize_occurrences_by_grade</code> and <code>count_occurrences_by_grade</code>. * Counting patients and events in columns with <code>summarize_patients_events_in_cols</code>. * Tabulating the binary outcome response by subgroup with <code>extract_rsp_subgroups</code> and <code>tabulate_rsp_subgroups</code>. * Tabulating the survival duration by subgroup with <code>extract_survival_subgroups</code> and <code>tabulate_survival_subgroups</code>.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.9" id="tern-069">tern 0.6.9<a class="anchor" aria-label="anchor" href="#tern-069"></a></h2>
<ul><li>Removing not used imports.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.8" id="tern-068">tern 0.6.8<a class="anchor" aria-label="anchor" href="#tern-068"></a></h2>
<ul><li>Improved handling of missing data in aggregation functions: <code>a_mean_sd</code>, <code>a_median</code>, <code>a_n_true_and_freq</code>, <code>a_count</code>, <code>a_q1q3</code>, <code>a_iqr</code>, <code>a_range</code>.</li>
<li>New default p-value method in <code>s_test_proportion_diff</code>: Chi-Squared Test with Schouten Correction.</li>
<li>Add new function <code>t_contingency</code> for contingency tables.</li>
<li>Renamed the class <code>splitText</code> to <code>dynamicSplitText</code> to resolve the name conflict with the package <code>ggpubr</code>.</li>
<li>Add <code>rreplace_format</code> for tabulation post-processing.</li>
<li>Add new tern function <code>t_ancova</code> to create <code>ANCOVA</code> tables, as well as corresponding elementary table function <code>t_el_ancova</code> and summary function <code>s_ancova</code>.</li>
<li>Add new tern function <code>s_odds_ratio</code> to estimate Odds Ratio of response between categories, as well as the corresponding elementary table function <code>t_el_odds_ratio</code>.</li>
<li>Added new CI methods (<code>Agresti-Coull</code>, <code>Jeffreys</code>) for <code>s_proportion</code>.</li>
<li>Added new CI methods <code>anderson-hauck</code> and <code>newcombe</code> to <code>s_proportion_diff</code>.</li>
<li>Added new p-value methods (Fisher’s Exact, Chi-Squared Test with Schouten Correction) for <code>s_test_proportion_diff</code>.</li>
<li>The binary summary table function <code>t_binary_outcome</code> takes now lists (instead of character vectors) specified by the helper function <code>control_binary_comparison</code> as the arguments <code>strat_analysis</code> and <code>unstrat_analysis</code>. Odds Ratio estimates and CIs are now removable and included by default, similarly to the other subsections of the arm comparison analyses. Also added argument <code>rsp_multinomial</code>.</li>
<li>Add new table function <code>t_el_multinomial_proportion</code>.</li>
<li>Add new table function <code>t_abn_shift</code>.</li>
<li>Add new <code>MMRM</code> analysis function <code>s_mmrm</code>, as well as corresponding table functions <code>t_mmrm_lsmeans</code>, <code>t_mmrm_cov</code>, <code>t_mmrm_diagnostic</code>, <code>t_mmrm_fixed</code>, and plot functions <code>g_mmrm_lsmeans</code>, <code>g_mmrm_diagnostic</code>. The results of these match SAS results (up to numeric precision).</li>
<li>Deprecated old <code>MMRM</code> functions <code>a_mmrm</code> and <code>t_mmrm</code> (they give a deprecation warning but still work) to remove in the next release. The reason is that the results of these functions don’t match SAS results.</li>
<li>Fix bug in <code>g_km</code> related to numbers in patients at risk table to correct numbers for integer time-to-event variable inputs.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.7" id="tern-067">tern 0.6.7<a class="anchor" aria-label="anchor" href="#tern-067"></a></h2>
<ul><li>For functions with <code>row_by</code> argument, inputs no longer require use of <code>nested_by</code>.</li>
<li>Add <code>stat_mean_ci</code> and <code>stat_median_ci</code> for error bars in <code>ggplot2</code>.</li>
<li>Add new tern function <code>t_coxreg</code> as single interface for diverse cox regression types.</li>
<li>Add compound table for binary endpoint: <code>t_binary_endpoint</code> and elementary functions: <code>t_el_proportion</code>, <code>t_el_proportion_diff</code> and <code>t_el_test_proportion_diff</code>. The supporting summary functions added are: <code>s_proportion</code>, <code>s_adj_proportion_diff</code>, <code>s_proportion_diff</code> and <code>s_test_proportion_diff</code>.</li>
<li>Added new tern function <code>t_events_patyear</code> to create event table adjusted person-years.</li>
<li>Added new tern function <code>t_abnormality</code> and the elementary table function <code>t_el_abnormality</code>.</li>
<li>Removed <code>grade_levels</code> argument from <code>t_events_term_grade_id</code> functions. Post-processing by reordering the leaves of the table tree creates a different ordering of rows if required. Creating a helper function will occur at a later time.</li>
<li>Added <code>prune_zero_rows</code> argument to <code>t_events_per_term_grade_id</code> and <code>t_max_grade_per_id</code> to not show rows of all zeros as they can clutter the visualization in the Shiny app and make it slower.</li>
<li>Fixed position of (N=xx) in <code>t_summary_by</code> output when summarizing numeric columns in parallel with <code>compare_in_header</code>.</li>
<li>Rename <code>t_coxph</code> to <code>t_coxph_pairwise</code> to reflect the model process, add details in documentation.</li>
<li>Remove <code>test.nest</code> dependency.</li>
<li>Keep column labels when splitting data into tree.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.6" id="tern-066">tern 0.6.6<a class="anchor" aria-label="anchor" href="#tern-066"></a></h2>
<ul><li>Remove <code>test.nest</code> dependency.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.5" id="tern-065">tern 0.6.5<a class="anchor" aria-label="anchor" href="#tern-065"></a></h2>
<ul><li>Change default option for denominator to be <code>N</code> in <code>t_summary</code>.</li>
<li>Fix IQR bug: IQR as Q3 minus Q1.</li>
<li>Add new function <code>t_logistic</code> for multi-variable logistic regression table.</li>
<li>Add new function <code>df_explicit_na</code> to replace <code>NA</code> by explicit values.</li>
<li>Added possibility in <code>t_tte</code> to specify confidence level independent for <code>survfit</code>, <code>coxph</code>, and <code>ztest</code>, see the manual.</li>
<li>Fixed bug in <code>t_rsp</code> of not showing p-value, odds ratio and CIs when <code>strata_data</code> is not <code>NULL</code>.</li>
<li>Added stratified analysis for <code>t_forest_rsp</code> and <code>t_forest_tte</code>, with footnotes in <code>g_forest</code>.</li>
<li>Added <code>footnotes</code>, <code>footnotes&lt;-</code> and <code>add_footnotes&lt;-</code> functions to deal with footnotes.</li>
<li>Added argument <code>conf_int</code> for confidence interval level to <code>t_el_forest_rps</code>, <code>t_forest_rsp</code>, <code>t_el_forest_tte</code>, <code>t_forest_tte</code>.</li>
<li>Added argument <code>col_symbol_size</code> to <code>g_forest</code> to control the relative size of symbols used in the plot.</li>
<li>Added <code>s_coxph_pairwise</code> function to perform pairwise testing, used by <code>t_tte</code> and <code>t_coxph</code>.</li>
<li>Added methods for <code>t_count_true</code> replacing <code>t_summary_true</code>.</li>
<li>Updated <code>t_count_unique</code> to create analysis subsets, added <code>t_el_count_unique</code> for vectors.</li>
<li>Fixed bug in <code>t_events_term_id</code> so that table sort order is by decreasing frequency instead of alphabetical.</li>
<li>Added function <code>color_palette</code> and a new nest color palette.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.4" id="tern-064">tern 0.6.4<a class="anchor" aria-label="anchor" href="#tern-064"></a></h2>
<ul><li>Refactored after renaming functions in <code>utils.nest</code>.</li>
<li>Added <code>event_type</code> argument to <code>t_events_per_term_grade_id</code>.</li>
<li>Added one/two-arm t-test functions.</li>
<li>Improvements in <code>t_summary_by</code>.</li>
<li>Internal code refactoring.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.3" id="tern-063">tern 0.6.3<a class="anchor" aria-label="anchor" href="#tern-063"></a></h2>
<ul><li>Added <code>node</code> S4 class to create trees:
<ul><li>For all related tree functions see the reference under trees.</li>
</ul></li>
<li>Removed functions:
<ul><li>Moved all the label functions to <code>rtables</code>.</li>
<li>Deleted <code>keys</code> and <code>keys&lt;-</code> functions.</li>
</ul></li>
<li>New helper functions:
<ul><li>Exported <code>tabulate_pairwise</code>.</li>
<li>
<code>get_N</code>, <code>col_N_add_total</code>, <code>check_id</code>.</li>
<li>
<code>na_as_level</code>.</li>
<li>
<code>as_factor_keep_attributes</code>.</li>
<li>
<code>r_by</code>.</li>
</ul></li>
<li>New TLGs:
<ul><li>Disposition elementary table <code>t_el_disposition</code>.</li>
<li>
<code>t_el_forest_tte</code>, <code>t_el_forest_rsp</code>.</li>
</ul></li>
<li>Changed Arguments:
<ul><li>All compound tables:
<ul><li>Added <code>table_tree</code> argument which returns a <code>node</code> object.</li>
</ul></li>
<li>
<code>t_summary.numeric</code>:
<ul><li>Added <code>f_numeric</code> to choose which statistics to calculate.</li>
</ul></li>
<li>
<code>t_summary.factor</code>:
<ul><li>
<code>denominator</code> now also allows for <code>omit</code> if wanting to omit percentages.</li>
</ul></li>
<li>
<code>t_summary_by</code>:
<ul><li>Renamed <code>by</code> to <code>row_by</code>.</li>
</ul></li>
<li>
<code>t_forest_rsp</code>, <code>t_forest_tte</code>:
<ul><li>Changed functionality of <code>group_data</code> using <code>row_by_list</code>.</li>
<li>Removed <code>na_omit_group</code>.</li>
</ul></li>
<li>
<code>t_count_unique</code>:
<ul><li>Removed <code>indent</code> argument, use the <code>indent</code> function in <code>rtables</code>. instead</li>
</ul></li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.2" id="tern-062">tern 0.6.2<a class="anchor" aria-label="anchor" href="#tern-062"></a></h2>
<ul><li>Use cached data from <code>random.cdisc.data</code> to speed up testing.</li>
<li>Added <code>t_summary.Date</code> method.</li>
<li>Added <code>save_join</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="tern-061">tern 0.6.1<a class="anchor" aria-label="anchor" href="#tern-061"></a></h2>
<ul><li>Fixed colors in Kaplan-Meier Plot</li>
<li>Refactor of all functions to pass <code>test.nest</code> tests:
<ul><li>Changed <code>width_row.names</code> argument of <code>g_forest</code> function into <code>width_row_names</code>.</li>
<li>Changed <code>censor.show</code> argument of <code>g_km</code> function into <code>censor_show</code>.</li>
<li>Changed <code>col.legend.title</code> argument of <code>g_waterfall</code> function into <code>col_legend_title</code>.</li>
<li>Changed <code>na.rm</code> argument of <code>t_count_unique</code> function into <code>na_rm</code>.</li>
<li>Changed <code>row.name</code> argument of <code>t_count_unique</code> function into <code>row_name</code>.</li>
<li>Changed <code>na.omit.group</code> argument of <code>t_forest_rsp</code> function into <code>na_omit_group</code>.</li>
<li>Changed <code>na.omit.group</code> argument of <code>t_forest_tte</code> function into <code>na_omit_group</code>.</li>
<li>Changed <code>row.name.TRUE</code> and <code>row.name.FALSE</code> arguments of <code>t_summary.logical</code> into <code>row_name_true</code> and <code>row_name_false</code> respectively.</li>
<li>Rename <code>splotTextGrob</code> into <code>split_text_grob</code>.</li>
<li>Fix examples.</li>
<li>Refactor of internal functions code.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="tern-060">tern 0.6.0<a class="anchor" aria-label="anchor" href="#tern-060"></a></h2>
<ul><li>Removed functions <code>addTable</code>, <code>t_summarize_by_visit</code>, <code>t_summarize_variables</code>.</li>
<li>Added <code>t_summary_by</code> function.</li>
<li>Refactor of <code>g_km</code> function, renamed <code>kmGrob</code> into <code>kmCurveGrob</code>.</li>
<li>Refactor <code>t_events_*</code> family of functions.</li>
<li>Updated examples.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0.3" id="tern-0503">tern 0.5.0.3<a class="anchor" aria-label="anchor" href="#tern-0503"></a></h2>
<div class="section level5">
<h5 id="new-tlgs-0-5-0-3">New TLGs<a class="anchor" aria-label="anchor" href="#new-tlgs-0-5-0-3"></a></h5>
<ul><li>
<code>t_summary</code> and methods for <code>data.frame</code>, <code>numeric</code>, <code>logical</code>, <code>character</code>, <code>factor</code>, and <code>Date</code> objects.</li>
<li>
<code>t_events_per_term_id</code>, <code>t_events_per_term_grade_id</code>: Adverse Events &amp; Concomitant Treatment Tables.</li>
<li>
<code>t_max_grade_per_id</code>, <code>t_count_unique</code>, <code>t_events_summary</code> elementary tables used for the Adverse Events &amp; Concomitant Treatment Tables.</li>
<li>
<code>g_waterfall</code>: Horizontal Waterfall Plot.</li>
</ul></div>
<div class="section level5">
<h5 id="new-helper-functions-0-5-0-3">New Helper Functions<a class="anchor" aria-label="anchor" href="#new-helper-functions-0-5-0-3"></a></h5>
<ul><li>
<code>decorate_grob</code>, <code>decorate_grob_set</code>, <code>decorate_grob_factory</code>, <code>splitTextGrob</code>.</li>
<li>
<code>stack_grobs</code>, <code>arrange_grobs</code>, <code>draw_grob</code>.</li>
</ul></div>
<div class="section level5">
<h5 id="tlg-changes-0-5-0-3">TLG changes<a class="anchor" aria-label="anchor" href="#tlg-changes-0-5-0-3"></a></h5>
<ul><li>
<code>t_tte</code> now shows two rows with ranges for event and censored times, respectively.</li>
<li>
<code>g_km</code> works with one arm <code>survfit</code> objects.</li>
<li>In forest plot functions, added formatting to display extreme values to “&gt;999.9”.</li>
<li>
<code>t_summarise_variables</code> uses now <code>n</code> instead of <code>N</code> as a denominator for calculating percentages for factors by default.</li>
<li>
<code>t_rsp</code> now works when all response values are <code>TRUE</code> or <code>FALSE</code>.</li>
</ul></div>
<div class="section level5">
<h5 id="deprecated-functions-0-5-0-3">Deprecated Functions<a class="anchor" aria-label="anchor" href="#deprecated-functions-0-5-0-3"></a></h5>
<ul><li>Deprecated <code>t_summarize_variables</code> as <code>t_summary</code> is more powerful.</li>
<li>Replacing <code>t_summarize_by_visit</code> with <code>t_summary_by</code> will occur in an upcoming release.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="tern-050">tern 0.5.0<a class="anchor" aria-label="anchor" href="#tern-050"></a></h2>
<ul><li>First version with harmonized analysis functions names and arguments.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>tern is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>

  

  

  </body></html>

