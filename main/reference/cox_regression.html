<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
Fits a Cox regression model and estimates hazard ratio to describe the effect
size in a survival analysis."><title>Cox Proportional Hazards Regression — cox_regression • tern</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Cox Proportional Hazards Regression — cox_regression"><meta property="og:description" content="
Fits a Cox regression model and estimates hazard ratio to describe the effect
size in a survival analysis."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tern</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.1.9012</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/tern.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/missing_values.html">Missing Values in Tern</a>
    <a class="dropdown-item" href="../articles/tables.html">Tabulation</a>
    <a class="dropdown-item" href="../articles/tern_formats.html">Formatting Functions</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/main">main</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/latest-tag">latest-tag</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.7.10">v0.7.10</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.1">v0.8.1</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.8.0">v0.8.0</a>
<a class="dropdown-item" data-toggle="tooltip" title="" href="https://insightsengineering.github.io/tern/v0.7.9">v0.7.9</a> </div></li>
<!-- end dropdown for versions -->
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reports">Reports</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reports">
    <a class="dropdown-item" href="../coverage-report/">Coverage report</a>
    <a class="dropdown-item" href="../unit-test-report/">Unit test report</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/insightsengineering/tern">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Cox Proportional Hazards Regression</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/tern/blob/HEAD/R/summarize_coxreg.R" class="external-link"><code>R/summarize_coxreg.R</code></a></small>
      <div class="d-none name"><code>cox_regression.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>Fits a Cox regression model and estimates hazard ratio to describe the effect
size in a survival analysis.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">s_coxreg</span><span class="op">(</span><span class="va">model_df</span>, <span class="va">.stats</span>, .which_vars <span class="op">=</span> <span class="st">"all"</span>, .var_nms <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">a_coxreg</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">labelstr</span>,</span>
<span>  eff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  var_main <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  multivar <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">variables</span>,</span>
<span>  at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_coxreg.html">control_coxreg</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">.spl_context</span>,</span>
<span>  <span class="va">.stats</span>,</span>
<span>  <span class="va">.formats</span>,</span>
<span>  na_level <span class="op">=</span> <span class="st">""</span>,</span>
<span>  cache_env <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">summarize_coxreg</span><span class="op">(</span></span>
<span>  <span class="va">lyt</span>,</span>
<span>  <span class="va">variables</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="control_coxreg.html">control_coxreg</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  at <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  multivar <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  common_var <span class="op">=</span> <span class="st">"STUDYID"</span>,</span>
<span>  .stats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"hr"</span>, <span class="st">"ci"</span>, <span class="st">"pval"</span>, <span class="st">"pval_inter"</span><span class="op">)</span>,</span>
<span>  .formats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>n <span class="op">=</span> <span class="st">"xx"</span>, hr <span class="op">=</span> <span class="st">"xx.xx"</span>, ci <span class="op">=</span> <span class="st">"(xx.xx, xx.xx)"</span>, pval <span class="op">=</span></span>
<span>    <span class="st">"x.xxxx | (&lt;0.0001)"</span>, pval_inter <span class="op">=</span> <span class="st">"x.xxxx | (&lt;0.0001)"</span><span class="op">)</span>,</span>
<span>  varlabels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .indent_mods <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  na_level <span class="op">=</span> <span class="st">""</span>,</span>
<span>  .section_div <span class="op">=</span> <span class="cn">NA_character_</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model_df</dt>
<dd><p>(<code>data.frame</code>)<br> contains the resulting model fit from a <code><a href="fit_coxreg.html">fit_coxreg</a></code>
function with tidying applied via <code><a href="https://broom.tidymodels.org/reference/reexports.html" class="external-link">broom::tidy()</a></code>.</p></dd>


<dt>.stats</dt>
<dd><p>(<code>character</code>)<br> the name of statistics to be reported among:</p><ul><li><p><code>n</code>: number of observations (univariable only)</p></li>
<li><p><code>hr</code>: hazard ratio</p></li>
<li><p><code>ci</code>: confidence interval</p></li>
<li><p><code>pval</code>: p-value of the treatment effect</p></li>
<li><p><code>pval_inter</code>: p-value of the interaction effect between the treatment and the covariate (univariable only)</p></li>
</ul></dd>


<dt>.which_vars</dt>
<dd><p>(<code>character</code>)<br> which rows should statistics be returned for from the given model.
Defaults to "all". Other options include "var_main" for main effects, "inter" for interaction effects,
and "multi_lvl" for multivariate model covariate level rows. When <code>.which_vars</code> is "all" specific
variables can be selected by specifying <code>.var_nms</code>.</p></dd>


<dt>.var_nms</dt>
<dd><p>(<code>character</code>)<br> the <code>term</code> value of rows in <code>df</code> for which <code>.stats</code> should be returned. Typically
this is the name of a variable. If using variable labels, <code>var</code> should be a vector of both the desired
variable name and the variable label in that order to see all <code>.stats</code> related to that variable. When <code>.which_vars</code>
is "var_main" <code>.var_nms</code> should be only the variable name.</p></dd>


<dt>df</dt>
<dd><p>(<code>data.frame</code>)<br> data set containing all analysis variables.</p></dd>


<dt>labelstr</dt>
<dd><p>(<code>character</code>)<br> label of the level of the parent split currently being summarized
(must be present as second argument in Content Row Functions).</p></dd>


<dt>eff</dt>
<dd><p>(<code>flag</code>)<br> whether treatment effect should be calculated. Defaults to <code>FALSE</code>.</p></dd>


<dt>var_main</dt>
<dd><p>(<code>flag</code>)<br> whether main effects should be calculated. Defaults to <code>FALSE</code>.</p></dd>


<dt>multivar</dt>
<dd><p>(<code>flag</code>)<br> Defaults to <code>FALSE</code>. If <code>TRUE</code> multivariate Cox regression will run, otherwise
univariable Cox regression will run.</p></dd>


<dt>variables</dt>
<dd><p>(named <code>list</code> of <code>string</code>)<br> list of additional analysis variables.</p></dd>


<dt>at</dt>
<dd><p>(<code>list</code> of <code>numeric</code>)<br> when the candidate covariate is a
<code>numeric</code>, use <code>at</code> to specify the value of the covariate at which the
effect should be estimated.</p></dd>


<dt>control</dt>
<dd><p>(<code>list</code>)<br> a list of parameters as returned by the
helper function <code><a href="control_coxreg.html">control_coxreg()</a></code>.</p></dd>


<dt>.spl_context</dt>
<dd><p>(<code>data.frame</code>)<br> gives information about ancestor split states
that is passed by <code>rtables</code>.</p></dd>


<dt>.formats</dt>
<dd><p>(named <code>character</code> or <code>list</code>)<br> formats for the statistics.</p></dd>


<dt>na_level</dt>
<dd><p>(<code>string</code>)<br> custom string to replace all <code>NA</code> values with. Defaults to <code>""</code>.</p></dd>


<dt>cache_env</dt>
<dd><p>(<code>environment</code>)<br> an environment object used to cache the regression model in order to
avoid repeatedly fitting the same model for every row in the table. Defaults to <code>NULL</code> (no caching).</p></dd>


<dt>lyt</dt>
<dd><p>(<code>layout</code>)<br> input layout where analyses will be added to.</p></dd>


<dt>common_var</dt>
<dd><p>(<code>character</code>)<br> the name of a factor variable in the dataset which takes the same value
for all rows. This should be created during pre-processing if no such variable currently exists.</p></dd>


<dt>.indent_mods</dt>
<dd><p>(named <code>integer</code>)<br> indent modifiers for the labels.</p></dd>


<dt>.section_div</dt>
<dd><p>(<code>character</code>)<br> string which should be repeated as a section divider between sections.
Defaults to <code>NA</code> for no section divider. If a vector of two strings are given, the first will be used between
treatment and covariate sections and the second between different covariates.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<ul><li><p><code>s_coxreg()</code> returns the selected statistic for from the Cox regression model for the selected variable(s).</p></li>
</ul><ul><li><p><code>a_coxreg()</code> returns formatted <code><a href="https://rdrr.io/pkg/rtables/man/CellValue.html" class="external-link">rtables::CellValue()</a></code>.</p></li>
</ul><ul><li><p><code>summarize_coxreg()</code> returns a layout object suitable for passing to further layouting functions,
or to <code><a href="https://rdrr.io/pkg/rtables/man/build_table.html" class="external-link">rtables::build_table()</a></code>. Adding this function to an <code>rtable</code> layout will add a Cox regression table
containing the chosen statistics to the table layout.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Cox models are the most commonly used methods to estimate the magnitude of
the effect in survival analysis. It assumes proportional hazards: the ratio
of the hazards between groups (e.g., two arms) is constant over time.
This ratio is referred to as the "hazard ratio" (HR) and is one of the
most commonly reported metrics to describe the effect size in survival
analysis (NEST Team, 2020).</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>
    
<ul><li><p><code>s_coxreg()</code>: Statistics function that transforms results tabulated
from <code><a href="fit_coxreg.html">fit_coxreg_univar()</a></code> or <code><a href="fit_coxreg.html">fit_coxreg_multivar()</a></code> into a list.</p></li>
<li><p><code>a_coxreg()</code>: Analysis function which is used as <code>afun</code> in <code><a href="https://rdrr.io/pkg/rtables/man/analyze.html" class="external-link">rtables::analyze()</a></code>
and <code>cfun</code> in <code><a href="https://rdrr.io/pkg/rtables/man/summarize_row_groups.html" class="external-link">rtables::summarize_row_groups()</a></code> within <code>summarize_coxreg()</code>.</p></li>
<li><p><code>summarize_coxreg()</code>: Layout-creating function which creates a Cox regression summary table
layout. This function is a wrapper for several <code>rtables</code> layouting functions. This function
is a wrapper for <code><a href="https://rdrr.io/pkg/rtables/man/analyze_colvars.html" class="external-link">rtables::analyze_colvars()</a></code> and <code><a href="https://rdrr.io/pkg/rtables/man/summarize_row_groups.html" class="external-link">rtables::summarize_row_groups()</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="fit_coxreg.html">fit_coxreg</a> for relevant fitting functions, <a href="h_cox_regression.html">h_cox_regression</a> for relevant
helper functions, and <a href="tidy_coxreg.html">tidy_coxreg</a> for custom tidy methods.</p>
<p><code><a href="fit_coxreg.html">fit_coxreg_univar()</a></code> and <code><a href="fit_coxreg.html">fit_coxreg_multivar()</a></code> which also take the <code>variables</code>, <code>data</code>,
<code>at</code> (univariable only), and <code>control</code> arguments but return unformatted univariable and multivariate
Cox regression models, respectively.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Testing dataset [survival::bladder].</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span>, kind <span class="op">=</span> <span class="st">"Mersenne-Twister"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dta_bladder</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">bladder</span><span class="op">[</span><span class="va">bladder</span><span class="op">$</span><span class="va">enum</span> <span class="op">&lt;</span> <span class="fl">5</span>, <span class="op">]</span>,</span></span>
<span class="r-in"><span>  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    TIME <span class="op">=</span> <span class="va">stop</span>,</span></span>
<span class="r-in"><span>    STATUS <span class="op">=</span> <span class="va">event</span>,</span></span>
<span class="r-in"><span>    ARM <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">rx</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    COVAR1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">enum</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">formatters</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/formatters/man/with_label.html" class="external-link">with_label</a></span><span class="op">(</span><span class="st">"A Covariate Label"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    COVAR2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">enum</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      levels <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"M"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">formatters</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/formatters/man/with_label.html" class="external-link">with_label</a></span><span class="op">(</span><span class="st">"Sex (F/M)"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dta_bladder</span><span class="op">$</span><span class="va">AGE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">20</span><span class="op">:</span><span class="fl">60</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dta_bladder</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dta_bladder</span><span class="op">$</span><span class="va">STUDYID</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="st">"X"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/survival/man/survfit.html" class="external-link">survfit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">TIME</span>, <span class="va">STATUS</span><span class="op">)</span> <span class="op">~</span> <span class="va">ARM</span> <span class="op">+</span> <span class="va">COVAR1</span>, data <span class="op">=</span> <span class="va">dta_bladder</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  lty <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"Months"</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blue1"</span>, <span class="st">"blue2"</span>, <span class="st">"blue3"</span>, <span class="st">"blue4"</span>, <span class="st">"red1"</span>, <span class="st">"red2"</span>, <span class="st">"red3"</span>, <span class="st">"red4"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="cox_regression-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># s_coxreg</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Univariable</span></span></span>
<span class="r-in"><span><span class="va">u1_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="st">"TIME"</span>, event <span class="op">=</span> <span class="st">"STATUS"</span>, arm <span class="op">=</span> <span class="st">"ARM"</span>, covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COVAR1"</span>, <span class="st">"COVAR2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">univar_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_coxreg.html">fit_coxreg_univar</a></span><span class="op">(</span>variables <span class="op">=</span> <span class="va">u1_variables</span>, data <span class="op">=</span> <span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">univar_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">s_coxreg</span><span class="op">(</span>model_df <span class="op">=</span> <span class="va">df1</span>, .stats <span class="op">=</span> <span class="st">"hr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`2 vs control (1)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6386426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`A Covariate Label`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.607037</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`Sex (F/M)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6242738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Univariable with interactions</span></span></span>
<span class="r-in"><span><span class="va">univar_model_inter</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_coxreg.html">fit_coxreg_univar</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="va">u1_variables</span>, control <span class="op">=</span> <span class="fu"><a href="control_coxreg.html">control_coxreg</a></span><span class="op">(</span>interaction <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">dta_bladder</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df1_inter</span> <span class="op">&lt;-</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">univar_model_inter</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">s_coxreg</span><span class="op">(</span>model_df <span class="op">=</span> <span class="va">df1_inter</span>, .stats <span class="op">=</span> <span class="st">"hr"</span>, .which_vars <span class="op">=</span> <span class="st">"inter"</span>, .var_nms <span class="op">=</span> <span class="st">"COVAR1"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`  1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6284569</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`  2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5806499</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`  3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5486103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`  4`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6910725</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Univariable without treatment arm - only "COVAR2" covariate effects</span></span></span>
<span class="r-in"><span><span class="va">u2_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="st">"TIME"</span>, event <span class="op">=</span> <span class="st">"STATUS"</span>, covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COVAR1"</span>, <span class="st">"COVAR2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">univar_covs_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_coxreg.html">fit_coxreg_univar</a></span><span class="op">(</span>variables <span class="op">=</span> <span class="va">u2_variables</span>, data <span class="op">=</span> <span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df1_covs</span> <span class="op">&lt;-</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">univar_covs_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">s_coxreg</span><span class="op">(</span>model_df <span class="op">=</span> <span class="va">df1_covs</span>, .stats <span class="op">=</span> <span class="st">"hr"</span>, .var_nms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COVAR2"</span>, <span class="st">"Sex (F/M)"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`Sex (F/M) (reference = F)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> numeric(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.3271</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multivariate.</span></span></span>
<span class="r-in"><span><span class="va">m1_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="st">"TIME"</span>, event <span class="op">=</span> <span class="st">"STATUS"</span>, arm <span class="op">=</span> <span class="st">"ARM"</span>, covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COVAR1"</span>, <span class="st">"COVAR2"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">multivar_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_coxreg.html">fit_coxreg_multivar</a></span><span class="op">(</span>variables <span class="op">=</span> <span class="va">m1_variables</span>, data <span class="op">=</span> <span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">multivar_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">s_coxreg</span><span class="op">(</span>model_df <span class="op">=</span> <span class="va">df2</span>, .stats <span class="op">=</span> <span class="st">"pval"</span>, .which_vars <span class="op">=</span> <span class="st">"var_main"</span>, .var_nms <span class="op">=</span> <span class="st">"COVAR1"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pval$`A Covariate Label (reference = 1)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 7.209956e-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu">s_coxreg</span><span class="op">(</span></span></span>
<span class="r-in"><span>  model_df <span class="op">=</span> <span class="va">df2</span>, .stats <span class="op">=</span> <span class="st">"pval"</span>, .which_vars <span class="op">=</span> <span class="st">"multi_lvl"</span>,</span></span>
<span class="r-in"><span>  .var_nms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COVAR1"</span>, <span class="st">"A Covariate Label"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pval$`2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.001120332</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pval$`3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 6.293725e-06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $pval$`4`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3.013875e-08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multivariate without treatment arm - only "COVAR1" main effect</span></span></span>
<span class="r-in"><span><span class="va">m2_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>time <span class="op">=</span> <span class="st">"TIME"</span>, event <span class="op">=</span> <span class="st">"STATUS"</span>, covariates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"COVAR1"</span>, <span class="st">"COVAR2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">multivar_covs_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="fit_coxreg.html">fit_coxreg_multivar</a></span><span class="op">(</span>variables <span class="op">=</span> <span class="va">m2_variables</span>, data <span class="op">=</span> <span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df2_covs</span> <span class="op">&lt;-</span> <span class="fu">broom</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html" class="external-link">tidy</a></span><span class="op">(</span><span class="va">multivar_covs_model</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">s_coxreg</span><span class="op">(</span>model_df <span class="op">=</span> <span class="va">df2_covs</span>, .stats <span class="op">=</span> <span class="st">"hr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.4600728</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.3100455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`4`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1854177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`A Covariate Label (reference = 1)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> numeric(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$`Sex (F/M) (reference = F)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> numeric(0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $hr$M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.285406</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tern</span><span class="fu">:::</span><span class="fu">a_coxreg</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">dta_bladder</span>,</span></span>
<span class="r-in"><span>  labelstr <span class="op">=</span> <span class="st">"Label 1"</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="va">u1_variables</span>,</span></span>
<span class="r-in"><span>  .spl_context <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="st">"COVAR1"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .stats <span class="op">=</span> <span class="st">"n"</span>,</span></span>
<span class="r-in"><span>  .formats <span class="op">=</span> <span class="st">"xx"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RowsVerticalSection (in_rows) object print method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   row_name formatted_cell indent_mod row_label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  Label 1            340          0   Label 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">tern</span><span class="fu">:::</span><span class="fu">a_coxreg</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">dta_bladder</span>,</span></span>
<span class="r-in"><span>  labelstr <span class="op">=</span> <span class="st">""</span>,</span></span>
<span class="r-in"><span>  variables <span class="op">=</span> <span class="va">u1_variables</span>,</span></span>
<span class="r-in"><span>  .spl_context <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="st">"COVAR2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .stats <span class="op">=</span> <span class="st">"pval"</span>,</span></span>
<span class="r-in"><span>  .formats <span class="op">=</span> <span class="st">"xx.xxxx"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RowsVerticalSection (in_rows) object print method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    row_name formatted_cell indent_mod row_label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 Sex (F/M)         0.0182          0 Sex (F/M)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># summarize_coxreg</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result_univar</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">summarize_coxreg</span><span class="op">(</span>variables <span class="op">=</span> <span class="va">u1_variables</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span><span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result_univar</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        n    Hazard Ratio      95% CI      p-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> —————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Treatment:                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 vs control (1)    340       0.64       (0.43, 0.94)   0.0242 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Covariate:                                                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A Covariate Label   340       0.61       (0.41, 0.90)   0.0126 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sex (F/M)           340       0.62       (0.42, 0.92)   0.0182 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result_multivar</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">summarize_coxreg</span><span class="op">(</span></span></span>
<span class="r-in"><span>    variables <span class="op">=</span> <span class="va">m1_variables</span>,</span></span>
<span class="r-in"><span>    multivar <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span><span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result_multivar</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       Hazard Ratio      95% CI      p-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Treatment:                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ARM (reference = 1)                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2                                     0.61       (0.41, 0.90)   0.0123 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Covariate:                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A Covariate Label (reference = 1)                                 &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2                                     0.46       (0.28, 0.73)   0.0011 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3                                     0.31       (0.18, 0.51)   &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4                                     0.18       (0.10, 0.33)   &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sex (F/M) (reference = F)                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     M                                     1.29       (0.88, 1.89)   0.1911 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result_univar_covs</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">summarize_coxreg</span><span class="op">(</span></span></span>
<span class="r-in"><span>    variables <span class="op">=</span> <span class="va">u2_variables</span>,</span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span><span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result_univar_covs</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                       Hazard Ratio      95% CI      p-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Covariate:                                                                 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A Covariate Label (reference = 1)                                 &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2                                     0.45       (0.28, 0.71)   0.0007 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3                                     0.31       (0.19, 0.52)   &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4                                     0.18       (0.10, 0.33)   &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sex (F/M) (reference = F)                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     M                                     1.33       (0.91, 1.94)   0.1414 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">result_multivar_covs</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">summarize_coxreg</span><span class="op">(</span></span></span>
<span class="r-in"><span>    variables <span class="op">=</span> <span class="va">m2_variables</span>,</span></span>
<span class="r-in"><span>    multivar <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    varlabels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Covariate 1"</span>, <span class="st">"Covariate 2"</span><span class="op">)</span> <span class="co"># custom labels</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">build_table</span><span class="op">(</span><span class="va">dta_bladder</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">result_multivar_covs</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                 Hazard Ratio      95% CI      p-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> —————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Covariate:                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Covariate 1 (reference = 1)                                 &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2                               0.46       (0.29, 0.74)   0.0012 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     3                               0.31       (0.19, 0.52)   &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     4                               0.19       (0.10, 0.34)   &lt;0.0001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Covariate 2 (reference = F)                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     M                               1.29       (0.88, 1.88)   0.1958 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>tern is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>

  

  

  </body></html>

