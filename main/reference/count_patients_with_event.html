<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Count the number of patients with a particular event — count_patients_with_event • tern</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Count the number of patients with a particular event — count_patients_with_event"><meta name="description" content="
The analyze function count_patients_with_event() creates a layout element to calculate patient counts for a
user-specified set of events.
This function analyzes primary analysis variable vars which indicates unique subject identifiers. Events
are defined by the user as a named vector via the filters argument, where each name corresponds to a
variable and each value is the value(s) that that variable takes for the event.
If there are multiple records with the same event recorded for a patient, only one occurrence is counted."><meta property="og:description" content="
The analyze function count_patients_with_event() creates a layout element to calculate patient counts for a
user-specified set of events.
This function analyzes primary analysis variable vars which indicates unique subject identifiers. Events
are defined by the user as a named vector via the filters argument, where each name corresponds to a
variable and each value is the value(s) that that variable takes for the event.
If there are multiple records with the same event recorded for a patient, only one occurrence is counted."><meta property="og:image" content="https://insightsengineering.github.io/tern/logo.png"><link rel="stylesheet" href="../consent.css"><script src="../consent.js" type="text/javascript" charset="utf-8"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tern</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.9.9004</small>

    <div style="width: 140px; margin-left: 0.5rem;"> <small class="nav-text text-muted me-auto">part of</small> <img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/nest.png?raw=true" alt="NEST" style="height: 30px;"><a href="https://pharmaverse.org/" class="external-link"><img src="https://github.com/insightsengineering/hex-stickers/blob/main/PNG/pharmaverse.png?raw=true" alt="pharmaverse" style="height: 28px;"></a> </div>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tern.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/missing_values.html">Missing Values in Tern</a></li>
    <li><a class="dropdown-item" href="../articles/tables.html">Tabulation</a></li>
    <li><a class="dropdown-item" href="../articles/tern_formats.html">Formatting Functions</a></li>
    <li><a class="dropdown-item" href="../articles/tern_functions_guide.html">Understanding `tern` functions</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports"><li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report-non-cran/">Non-CRAN unit test report</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/insightsengineering/tern" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Count the number of patients with a particular event</h1>
      <small class="dont-index">Source: <a href="https://github.com/insightsengineering/tern/blob/main/R/count_patients_with_event.R" class="external-link"><code>R/count_patients_with_event.R</code></a></small>
      <div class="d-none name"><code>count_patients_with_event.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p>The analyze function <code>count_patients_with_event()</code> creates a layout element to calculate patient counts for a
user-specified set of events.</p>
<p>This function analyzes primary analysis variable <code>vars</code> which indicates unique subject identifiers. Events
are defined by the user as a named vector via the <code>filters</code> argument, where each name corresponds to a
variable and each value is the value(s) that that variable takes for the event.</p>
<p>If there are multiple records with the same event recorded for a patient, only one occurrence is counted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">count_patients_with_event</span><span class="op">(</span></span>
<span>  <span class="va">lyt</span>,</span>
<span>  <span class="va">vars</span>,</span>
<span>  <span class="va">filters</span>,</span>
<span>  riskdiff <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  na_str <span class="op">=</span> <span class="fu"><a href="default_na_str.html">default_na_str</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  nested <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vars</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span>, <span class="st">"visible"</span>, <span class="st">"hidden"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  table_names <span class="op">=</span> <span class="va">vars</span>,</span>
<span>  .stats <span class="op">=</span> <span class="st">"count_fraction"</span>,</span>
<span>  .stat_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .formats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>count_fraction <span class="op">=</span> <span class="va">format_count_fraction_fixed_dp</span><span class="op">)</span>,</span>
<span>  .labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .indent_mods <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">s_count_patients_with_event</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">.var</span>,</span>
<span>  .N_col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>,</span>
<span>  .N_row <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  <span class="va">filters</span>,</span>
<span>  denom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"N_col"</span>, <span class="st">"N_row"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">a_count_patients_with_event</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  labelstr <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .stats <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .stat_names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .formats <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .indent_mods <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-lyt">lyt<a class="anchor" aria-label="anchor" href="#arg-lyt"></a></dt>
<dd><p>(<code>PreDataTableLayouts</code>)<br> layout that analyses will be added to.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a></dt>
<dd><p>(<code>character</code>)<br> variable names for the primary analysis variable to be iterated over.</p></dd>


<dt id="arg-filters">filters<a class="anchor" aria-label="anchor" href="#arg-filters"></a></dt>
<dd><p>(<code>character</code>)<br> a character vector specifying the column names and flag variables
to be used for counting the number of unique identifiers satisfying such conditions.
Multiple column names and flags are accepted in this format
<code>c("column_name1" = "flag1", "column_name2" = "flag2")</code>.
Note that only equality is being accepted as condition.</p></dd>


<dt id="arg-riskdiff">riskdiff<a class="anchor" aria-label="anchor" href="#arg-riskdiff"></a></dt>
<dd><p>(<code>flag</code>)<br> whether a risk difference column is present. When set to <code>TRUE</code>, <code><a href="add_riskdiff.html">add_riskdiff()</a></code> must be
used as <code>split_fun</code> in the prior column split of the table layout, specifying which columns should be compared.
See <code><a href="stat_propdiff_ci.html">stat_propdiff_ci()</a></code> for details on risk difference calculation.</p></dd>


<dt id="arg-na-str">na_str<a class="anchor" aria-label="anchor" href="#arg-na-str"></a></dt>
<dd><p>(<code>string</code>)<br> string used to replace all <code>NA</code> or empty values in the output.</p></dd>


<dt id="arg-nested">nested<a class="anchor" aria-label="anchor" href="#arg-nested"></a></dt>
<dd><p>(<code>flag</code>)<br> whether this layout instruction should be applied within the existing layout structure _if
possible (<code>TRUE</code>, the default) or as a new top-level element (<code>FALSE</code>). Ignored if it would nest a split.
underneath analyses, which is not allowed.</p></dd>


<dt id="arg-show-labels">show_labels<a class="anchor" aria-label="anchor" href="#arg-show-labels"></a></dt>
<dd><p>(<code>string</code>)<br> label visibility: one of "default", "visible" and "hidden".</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments for the lower level functions.</p></dd>


<dt id="arg-table-names">table_names<a class="anchor" aria-label="anchor" href="#arg-table-names"></a></dt>
<dd><p>(<code>character</code>)<br> this can be customized in the case that the same <code>vars</code> are analyzed multiple
times, to avoid warnings from <code>rtables</code>.</p></dd>


<dt id="arg--stats">.stats<a class="anchor" aria-label="anchor" href="#arg--stats"></a></dt>
<dd><p>(<code>character</code>)<br> statistics to select for the table.</p>
<p>Options are: <code>'n', 'count', 'count_fraction', 'count_fraction_fixed_dp', 'n_blq'</code></p></dd>


<dt id="arg--stat-names">.stat_names<a class="anchor" aria-label="anchor" href="#arg--stat-names"></a></dt>
<dd><p>(<code>character</code>)<br> names of the statistics that are passed directly to name single statistics
(<code>.stats</code>). This option is visible when producing <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/data.frame_export.html" class="external-link">rtables::as_result_df()</a></code> with <code>make_ard = TRUE</code>.</p></dd>


<dt id="arg--formats">.formats<a class="anchor" aria-label="anchor" href="#arg--formats"></a></dt>
<dd><p>(named <code>character</code> or <code>list</code>)<br> formats for the statistics. See Details in <code>analyze_vars</code> for more
information on the <code>"auto"</code> setting.</p></dd>


<dt id="arg--labels">.labels<a class="anchor" aria-label="anchor" href="#arg--labels"></a></dt>
<dd><p>(named <code>character</code>)<br> labels for the statistics (without indent).</p></dd>


<dt id="arg--indent-mods">.indent_mods<a class="anchor" aria-label="anchor" href="#arg--indent-mods"></a></dt>
<dd><p>(named <code>integer</code>)<br> indent modifiers for the labels. Defaults to 0, which corresponds to the
unmodified default behavior. Can be negative.</p></dd>


<dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>(<code>data.frame</code>)<br> data set containing all analysis variables.</p></dd>


<dt id="arg--var">.var<a class="anchor" aria-label="anchor" href="#arg--var"></a></dt>
<dd><p>(<code>string</code>)<br> name of the column that contains the unique identifier.</p></dd>


<dt id="arg--n-col">.N_col<a class="anchor" aria-label="anchor" href="#arg--n-col"></a></dt>
<dd><p>(<code>integer(1)</code>)<br> column-wise N (column count) for the full column being analyzed that is typically
passed by <code>rtables</code>.</p></dd>


<dt id="arg--n-row">.N_row<a class="anchor" aria-label="anchor" href="#arg--n-row"></a></dt>
<dd><p>(<code>integer(1)</code>)<br> row-wise N (row group count) for the group of observations being analyzed
(i.e. with no column-based subsetting) that is typically passed by <code>rtables</code>.</p></dd>


<dt id="arg-denom">denom<a class="anchor" aria-label="anchor" href="#arg-denom"></a></dt>
<dd><p>(<code>string</code>)<br> choice of denominator for proportion. Options are:</p><ul><li><p><code>n</code>: number of values in this row and column intersection.</p></li>
<li><p><code>N_row</code>: total number of values in this row across columns.</p></li>
<li><p><code>N_col</code>: total number of values in this column across rows.</p></li>
</ul></dd>


<dt id="arg-labelstr">labelstr<a class="anchor" aria-label="anchor" href="#arg-labelstr"></a></dt>
<dd><p>(<code>string</code>)<br> label of the level of the parent split currently being summarized
(must be present as second argument in Content Row Functions). See <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/summarize_row_groups.html" class="external-link">rtables::summarize_row_groups()</a></code>
for more information.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>

<ul><li><p><code>count_patients_with_event()</code> returns a layout object suitable for passing to further layouting functions,
or to <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/build_table.html" class="external-link">rtables::build_table()</a></code>. Adding this function to an <code>rtable</code> layout will add formatted rows containing
the statistics from <code>s_count_patients_with_event()</code> to the table layout.</p></li>
</ul><ul><li><p><code>s_count_patients_with_event()</code> returns the count and fraction of unique identifiers with the defined event.</p></li>
</ul><ul><li><p><code>a_count_patients_with_event()</code> returns the corresponding list with formatted <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/CellValue.html" class="external-link">rtables::CellValue()</a></code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>count_patients_with_event()</code>: Layout-creating function which can take statistics function
arguments and additional format arguments. This function is a wrapper for <code><a href="https://insightsengineering.github.io/rtables/latest-tag/reference/analyze.html" class="external-link">rtables::analyze()</a></code>.</p></li>
<li><p><code>s_count_patients_with_event()</code>: Statistics function which counts the number of patients for which
the defined event has occurred.</p></li>
<li><p><code>a_count_patients_with_event()</code>: Formatted analysis function which is used as <code>afun</code>
in <code>count_patients_with_event()</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="count_patients_with_flags.html">count_patients_with_flags()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">lyt</span> <span class="op">&lt;-</span> <span class="fu">basic_table</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">split_cols_by</span><span class="op">(</span><span class="st">"ARM"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_colcounts</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="count_values.html">count_values</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"STUDYID"</span>,</span></span>
<span class="r-in"><span>    values <span class="op">=</span> <span class="st">"AB12345"</span>,</span></span>
<span class="r-in"><span>    .stats <span class="op">=</span> <span class="st">"count"</span>,</span></span>
<span class="r-in"><span>    .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>count <span class="op">=</span> <span class="st">"Total AEs"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>    filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>count_fraction <span class="op">=</span> <span class="st">"Total number of patients with at least one adverse event"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    table_names <span class="op">=</span> <span class="st">"tbl_all"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>    filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span>, <span class="st">"AEOUT"</span> <span class="op">=</span> <span class="st">"FATAL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>count_fraction <span class="op">=</span> <span class="st">"Total number of patients with fatal AEs"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    table_names <span class="op">=</span> <span class="st">"tbl_fatal"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>    filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span>, <span class="st">"AEOUT"</span> <span class="op">=</span> <span class="st">"FATAL"</span>, <span class="st">"AEREL"</span> <span class="op">=</span> <span class="st">"Y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>count_fraction <span class="op">=</span> <span class="st">"Total number of patients with related fatal AEs"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .indent_mods <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>count_fraction <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    table_names <span class="op">=</span> <span class="st">"tbl_rel_fatal"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">build_table</span><span class="op">(</span><span class="va">lyt</span>, <span class="va">tern_ex_adae</span>, alt_counts_df <span class="op">=</span> <span class="va">tern_ex_adsl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                            A: Drug X    B: Placebo   C: Combination</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                              (N=69)       (N=73)         (N=58)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ———————————————————————————————————————————————————————————————————————————————————————————————————</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total AEs                                                     202          177            162      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total number of patients with at least one adverse event   59 (100%)    57 (100%)      48 (100%)   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total number of patients with fatal AEs                    28 (47.5%)   31 (54.4%)     20 (41.7%)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Total number of patients with related fatal AEs        28 (47.5%)   31 (54.4%)     20 (41.7%)  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s_count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">tern_ex_adae</span>,</span></span>
<span class="r-in"><span>  .var <span class="op">=</span> <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 164 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> count </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   164 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count_fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    count fraction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      164        1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count_fraction_fixed_dp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    count fraction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      164        1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num denom </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   164   164 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_blq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n_blq </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s_count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">tern_ex_adae</span>,</span></span>
<span class="r-in"><span>  .var <span class="op">=</span> <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span>, <span class="st">"AEOUT"</span> <span class="op">=</span> <span class="st">"FATAL"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 164 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> count </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    79 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count_fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      count   fraction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79.0000000  0.4817073 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count_fraction_fixed_dp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      count   fraction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79.0000000  0.4817073 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num denom </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    79   164 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_blq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n_blq </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">s_count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">tern_ex_adae</span>,</span></span>
<span class="r-in"><span>  .var <span class="op">=</span> <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span>, <span class="st">"AEOUT"</span> <span class="op">=</span> <span class="st">"FATAL"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  denom <span class="op">=</span> <span class="st">"N_col"</span>,</span></span>
<span class="r-in"><span>  .N_col <span class="op">=</span> <span class="fl">456</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 164 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> count </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    79 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count_fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      count   fraction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79.0000000  0.1732456 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $count_fraction_fixed_dp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      count   fraction </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 79.0000000  0.1732456 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   num denom </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    79   456 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $n_blq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n_blq </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     0 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">a_count_patients_with_event</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">tern_ex_adae</span>,</span></span>
<span class="r-in"><span>  .var <span class="op">=</span> <span class="st">"SUBJID"</span>,</span></span>
<span class="r-in"><span>  filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TRTEMFL"</span> <span class="op">=</span> <span class="st">"Y"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  .N_col <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>  .N_row <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> RowsVerticalSection (in_rows) object print method:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  row_name formatted_cell indent_mod               row_label</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                       n            164          0                       n</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                   count            164          0                   count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          count_fraction     164 (100%)          0          count_fraction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 count_fraction_fixed_dp     164 (100%)          0 count_fraction_fixed_dp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                   n_blq              0          0                   n_blq</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="nest">
  <p>tern is a part of the <strong>NEST</strong> and <a href="https://pharmaverse.org/" class="external-link"><strong>pharmaverse</strong></a>.</p>
</div>
<script type="text/javascript" src="../analytics.js"></script></footer></div>





  </body></html>

